<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
  <script src="https://maps.alk.com/api/1.3/ol.js" type="text/javascript"></script>
  <script src="https://maps.alk.com/api/1.3/alkmaps.js" type="text/javascript"></script>
  <title>IntelliSTAR Radar</title>

    <style>
      body {
        margin: 0;
        padding: 0;
      }
      #map {
        position: absolute;
        top: 0;
        bottom: 0;
        width: 100%;
   
     </style>


</head>

<body bgcolor="black">

    <div id="map"></div>
 
<script>

getParameter = (key) => { 
  
    // Address of the current window 
    address = window.location.search 
  
    // Returns a URLSearchParams object instance 
    parameterList = new URLSearchParams(address) 
  
    // Returning the respected value associated 
    // with the provided key 
    return parameterList.get(key) 
} 
  
// Gets the value associated with the key "lng and lat" 
console.log(getParameter("lng"))
console.log(getParameter("lat"))
console.log(getParameter("zm"))


var lng = (getParameter("lng"))
var lat = (getParameter("lat"))
var zoom = (getParameter("zoom"))


alk.defaults.setApiKey('17CA0885B03A6B4FADBDC3D1A51DC0BD');

var base = new alk.layer.BaseMapLayer({
  sourceOptions: {
    serviceOptions: {
      style: alk.val.Style.Transportation
    }
  }
});


		var radar = new alk.layer.WeatherRadarLayer({
		  opacity: 0.75
		});

		var map = new ol.Map({
		  target: 'map',
		  layers: [base, radar],
		  view: new ol.View({
			//center: ol.proj.transform([-76, 39], alk.val.SRS.EPSG4326, alk.val.SRS.EPSG3857),

			center: ol.proj.transform([parseFloat(lng), parseFloat(lat)], alk.val.SRS.EPSG4326, alk.val.SRS.EPSG3857),

			zoom: zoom
		  })
		});


</script>


</body>


</html>
