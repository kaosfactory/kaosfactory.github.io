/*!
 * 
 * 	@aerisweather/javascript-sdk - 1.8.0
 * 	(c) 2022 AerisWeather
 * 	License: BSD
 * 	https://www.aerisweather.com/support/docs/toolkits/aeris-js-sdk/
 * 
 */
(this.webpackJsonp=this.webpackJsonp||[]).push([["aerisweather.apps"],{"4oU/":function(t,e,n){var i=n("2oRo").isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&i(t)}},"8ABf":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,s.default)(2,arguments);var n=(0,i.default)(t),a=(0,i.default)(e);return n.getTime()===a.getTime()};var i=a(n("2Oix")),s=a(n("YGjY"));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},"8AyJ":function(t,e,n){n("I+eb")({target:"Number",stat:!0},{isFinite:n("4oU/")})},Ep9I:function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},JevA:function(t,e,n){var i=n("I+eb"),s=n("wg0c");i({target:"Number",stat:!0,forced:Number.parseInt!=s},{parseInt:s})},OM9Z:function(t,e,n){n("I+eb")({target:"String",proto:!0},{repeat:n("EUja")})},YoRi:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return h}));n("ma9I"),n("QWBl"),n("oVuX"),n("toAj"),n("tkto"),n("rNhl"),n("TWNs"),n("rB9j"),n("JfAA"),n("Rm1S"),n("UxlC"),n("FZtP");var i=n("0lfv"),s=n("v3JS"),a={imperial:{temp:"&deg;F",speed:" mph",distance:" mi",height:" ft",pressure:" in",percent:"%",precip:'"',rain:'"',snow:'"',text:"",degree:"&deg;"},metric:{temp:"&deg;C",speed:" km/h",distance:" km",height:" m",pressure:" mb",percent:"%",precip:" mm",rain:" mm",snow:" cm",phrase:"met",degree:"&deg;"}},o={temp:"(temp|dewpoint|dewpt|feelslike|windchill|heatindex)",speed:"(speed|gust|wind)",distance:"(visibility|distance)",height:"(ceiling|elev|elevation|height|ht)",pressure:"(pressure|altimeter)",rain:"(precip|rain|prcp)",snow:"(snow|snowdepth|hail)",text:"(phrase)",percent:"(rh|humid|pop|prob|sky|skycover)"},r=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?a.metric[t]||"":a.imperial[t]||""},c=function(t){var e;return t=(t||"").toLowerCase().replace(/\s/g,""),void 0!==o[t]?t:/prob(ability)?/.test(t)?"percent":(Object.keys(o).forEach((function(n){new RegExp(o[n],"i").test(t)&&(e=n)})),e)},u=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"--",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(!1===Object(i.isset)(t))return o;var l=c(e);if(!l)return"".concat(t);var h=0,d="",p=" ";return"temp"===l?p="":"pressure"===l?h=n?0:2:"rain"===l?h=n?1:2:"snow"===l?h=1:"distance"===l&&(h=2),t=h>0?parseFloat(t).toFixed(h):Math.round(t),a&&(d=r(l,n),Object(i.isset)(u)&&(d=u.replace(/{{units}}/,d))),"".concat(Object(s.a)(t,h)).concat(p).concat(d)},l=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=s&&n||e;return u(Object(i.get)(t,a),a,s,!0,"N/A",'<span class="units">{{units}}</span>')},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],i=Math.floor(t/3600),s=Math.floor((t-3600*i)/60),a=Math.floor(t-3600*i-60*s);return i>0&&n.push("".concat(i," hr")),s>0&&n.push("".concat(s," min")),e&&a>0&&n.push("".concat(a," sec")),n.join(", ")}},ZYXs:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"i",(function(){return a})),n.d(e,"h",(function(){return o})),n.d(e,"e",(function(){return r})),n.d(e,"g",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"a",(function(){return l})),n.d(e,"d",(function(){return h})),n.d(e,"c",(function(){return d}));n("yXV3"),n("zKZe");var i=n("0lfv"),s=function(t,e,n,s){var a=0,o=0;if(s=Object(i.extend)({x:0,y:0},s),Object(i.isString)(t)){var r=t;a=(n.width-e.width)/2,o=(n.height-e.height)/2,/^top/.test(r)?o=0:/^bottom/.test(r)&&(o=n.height-e.height),/left$/.test(r)?a=0:/right$/.test(r)&&(a=n.width-e.width)}else{var c=t;a=c.x,o=c.y}return{x:a+=s.x,y:o+=s.y}},a=function(){if(!window)return{width:null,height:null};var t="normal",e="normal";return window.matchMedia("(max-width: 500px)").matches?t="compact":window.matchMedia("(min-width: 1000px)").matches&&(t="desktop"),window.matchMedia("(max-height: 500px)").matches?e="compact":window.matchMedia("(min-height: 1000px)").matches&&(e="desktop"),{width:t,height:e}},o=function(t){return-1!==["topleft","top","topright"].indexOf(t)},r=function(t){return-1!==["bottomleft","bottom","bottomright"].indexOf(t)},c=function(t){return-1!==["left","center","right"].indexOf(t)},u=function(t){return-1!==["top","center","bottom"].indexOf(t)},l=function(t,e,n){var i=Object.assign({},t);return!function(t){return-1!==["topleft","left","bottomleft"].indexOf(t)}(n)?function(t){return-1!==["topright","right","bottomright"].indexOf(t)}(n)&&(t.left=t.right-e.width):t.right=t.left+e.width,i},h=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.left>=e.left&&t.left<=e.right,s=t.right>=e.left&&t.right<=e.right,a=t.top>=e.top&&t.top<=e.bottom,o=t.bottom>=e.top&&t.bottom<=e.bottom;return n?a||o||s||i:(a||o)&&(s||i)},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{top:t.top+e,bottom:t.bottom-e,left:t.left+e,right:t.right-e,width:t.width-2*e,height:t.height-2*e}}},"bRx/":function(t,e,n){"use strict";n.r(e),n.d(e,"Apps",(function(){return le}));n("zKZe"),n("07d7"),n("SuFq"),n("JfAA");var i=n("lwsE"),s=n.n(i),a=n("7W2i"),o=n.n(a),r=n("a1gu"),c=n.n(r),u=n("Nsbk"),l=n.n(u),h=(n("ma9I"),n("TeQF"),n("QWBl"),n("yXV3"),n("2B1R"),n("E9XD"),n("qePV"),n("kSko"),n("tkto"),n("4l63"),n("rB9j"),n("UxlC"),n("hByQ"),n("EnZy"),n("FZtP"),n("J4zp")),d=n.n(h),p=n("W8MJ"),f=n.n(p),v=n("PJYZ"),_=n.n(v),g=n("m0x2"),m=n("5kaa"),y=(n("yyme"),n("pDQq"),n("RIqP")),b=n.n(y),w=n("iWIM"),j=n.n(w),O=(n("rNhl"),n("0lfv")),k=n("pAjv"),x=n("ZYXs"),S=n("3j3Q");function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var R=function(t){o()(n,t);var e=M(n);function n(t,i){var a;return s()(this,n),(a=e.call(this))._renderCount=0,t=Object(O.extend)({className:Object(k.prefixCSSClassName)("app__view"),renderer:null,requiresData:!1},t),a._opts=t,a._ui={},a._needsRender=!0,a._data=Object(O.cloneDeep)(i),a}return f()(n,[{key:"el",value:function(t){return Object(S.a)(t,this.$el)}},{key:"initialize",value:function(t){t=Object.assign(Object.assign({},this._data),t);var e=this._render(t);e&&(e=e.replace(/^[^<]+/,"").replace(/[\n\r\t.]+$/,""),this._target=Object(S.a)(e),this._afterRender())}},{key:"addTo",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(!t)throw new Error("[Aeris] Invalid DOM target specified for View.addTo()");var s=Object(S.a)(t);n&&s.empty();var a=this._render(this._data);if(i>=0){var o=s.children();i>=o.length?(s.append(a),this._target=s.children().last()):(Object(S.a)(o[i]).before(a),this._target=Object(S.a)(s.children()[i]))}else s.append(a),this._target=s.children().last();return this._afterRender(),this.opts.requiresData&&Object(O.isEmpty)(this.data)&&this.hide(),!!this._target&&(this._lastSize=this.size(),this._opts.ui&&this.setUI(this._opts.ui),this.opts.className&&this.$el.addClass(Object(k.prefixCSSClassName)(this.opts.className)),this._onAddedToDOM(),this._layout(),this._setupEvents(),this._afterEvents(),this.trigger("render"),Object(S.a)(window).on("resize",(function(){e._onResize()})),!0)}},{key:"setIndex",value:function(t){var e=this.$el.parent(),n=this.index();if(e&&n!==t){this.$el.remove();var i=e.children(),s=Math.min(t,i.length)-1;Object(S.a)(i[s]).after(this.$el),this._target=Object(S.a)(e.children()[t])}}},{key:"index",value:function(){var t=this.$el.parent();return t?t.children().indexOf(this.$el[0]):-1}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$el&&this.$el.remove(),t&&this.offAll()}},{key:"show",value:function(){this.$el&&(this.$el.show(),this.trigger("show"))}},{key:"hide",value:function(){this.$el&&(this.$el.hide(),this.trigger("hide"))}},{key:"parent",value:function(){if(this.$el){var t=this.$el.parent();if(t&&t.length>0&&null!==t[0])return t}return null}},{key:"size",value:function(){return this.$el?{width:this.$el.outerWidth(!0),height:this.$el.outerHeight(!0)}:{width:0,height:0}}},{key:"setSize",value:function(t,e){if(0!==t||0!==e){var n=this.size();t>0&&(n.width=t),e>0&&(n.height=e),this.$el.css({width:"".concat(n.width,"px"),height:"".concat(n.height,"px")}),this._onResize()}}},{key:"layout",value:function(){this._layout()}},{key:"bounds",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.$el?this.$el.bounds(t,e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}},{key:"update",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&(t=this._onData(t),Object(O.isArray)(t)?this._data=Object(O.cloneDeep)(t):this._data=Object.assign(Object.assign({},this._data),Object(O.cloneDeep)(t))),this.$el&&e){var n=this._render(this._data);this._target=this.$el.replace(n),this._afterRender(),this.trigger("render"),this.opts.requiresData&&Object(O.isEmpty)(t)?this.hide():this.show()}}},{key:"setUI",value:function(t){var e=this;this.$el&&Object.keys(t).forEach((function(n){try{var i=Object(S.a)(t[n],e.$el);i&&i.length>0?e._ui[n]=i:e._ui[n]=null}catch(t){}}))}},{key:"moveTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},n=t.x,i=t.y;n+=e.x,i+=e.y,this.$el.css({left:"".concat(n,"px"),top:"".concat(i,"px")})}},{key:"pinTo",value:function(t,e){var n=this.parent();if(t=t.replace(/-/,""),e=Object(O.extend)({x:0,y:0},e),this.$el.addClass("awxjs__app__view__pinned-".concat(t)),n){var i=n.bounds(),s=Object(x.b)(t,this.size(),{width:i.width,height:i.height},e),a=/right/.test(t)?"right":"left",o=/bottom/.test(t)?"bottom":"top",r=window.getComputedStyle(this.$el[0]);if(r&&"none"!==r.transform){var c=r.transform.replace(/\(.+$/,""),u=r.transform.replace(/[^0-9,-]/g,"").split(",").map((function(t){return parseFloat(t)}));if("matrix"===c){var l=d()(u,6),h=(l[0],l[1],l[2],l[3],l[4]),p=l[5];s.x-=h/2,s.y-=p/2}}"right"===a&&(s.x=-1*e.x),"bottom"===o&&(s.y=-1*e.y);var f={};f[a]="".concat(s.x,"px"),f[o]="".concat(s.y,"px"),this.$el.css(f)}}},{key:"_render",value:function(t){return"<div></div>"}},{key:"_layout",value:function(){}},{key:"_onData",value:function(t){return t}},{key:"_beforeRender",value:function(){}},{key:"_afterRender",value:function(){this._renderCount+=1}},{key:"_setupEvents",value:function(){}},{key:"_afterEvents",value:function(){}},{key:"_onAddedToDOM",value:function(){}},{key:"_onResize",value:function(){this._shouldLayout()&&this._layout(),this._lastSize=this.size()}},{key:"_shouldLayout",value:function(){var t=this.size();return t.width!==this._lastSize.width||t.height!==this._lastSize.height}},{key:"$el",get:function(){return this._target}},{key:"id",get:function(){return this.opts.id}},{key:"opts",get:function(){return this._opts}},{key:"ui",get:function(){return this._ui}},{key:"data",get:function(){return this._data}},{key:"isRendered",get:function(){return this._renderCount>0&&void 0!==this._target.parent()}},{key:"isMounted",get:function(){return Object(O.isset)(this.parent())}}]),n}(g.a);function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var D=function(t){o()(n,t);var e=C(n);function n(){return s()(this,n),e.apply(this,arguments)}return f()(n,[{key:"getState",value:function(t){return Object(O.get)(this.state,t)}},{key:"setState",value:function(t){this._state=Object(O.extend)(this._state,t)}},{key:"state",get:function(){return Object(O.cloneDeep)(this._state)}}]),n}(R);function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var P=function(t){o()(n,t);var e=E(n);function n(t){var i;return s()(this,n),(t=Object(O.extend)({enabled:!0,toggleable:!1,ui:{container:".awxjs__app__ui-panel-container",toolbar:".awxjs__app__ui-panel-toolbar",content:".awxjs__app__ui-panel-content",toggle:".awxjs__app__ui-panel-toggle",close:".awxjs__app__ui-panel-close"}},t)).className=Object(O.isset)(t.className)?"app__ui-panel ".concat(t.className):"app__ui-panel",(i=e.call(this,t))._bounds={},i.setState({visible:!0!==i.opts.toggleable,maxContentSize:{width:1e4,height:1e4}}),i}return f()(n,[{key:"open",value:function(){!1!==this.opts.toggleable&&(this.setState({visible:!0}),this._updateSize(),this.$el.addClass("awxjs__app__ui-panel-toggleable-open"))}},{key:"close",value:function(){!1!==this.opts.toggleable&&(this.setState({visible:!1}),this._updateSize(),this.$el.removeClass("awxjs__app__ui-panel-toggleable-open"))}},{key:"toggle",value:function(){this.visible?this.close():this.open()}},{key:"getContentContainer",value:function(){return this.ui.content}},{key:"size",value:function(){if(!this.$el)return{width:0,height:0};var t=this.$el;return this.opts.toggleable&&this.ui.toggle?t=this.ui.toggle:this.ui.content&&(t=this.ui.content),{width:t.outerWidth(!0),height:t.outerHeight(!0)}}},{key:"contentSize",value:function(){var t={width:0,height:0},e=this.getContentContainer(),n=(e[0].style.height,e[0].style.width),i=Object(k.prefixCSSClassName)(this.opts.className);i="awxjs__app__component ".concat(i);var s=Object(S.a)('\n\t\t\t<div id="awxjs__panel-calc" class="'.concat(i,'" style="display:inline-block;visibility:none;left:-10000px;width:').concat(n,'">\n\t\t\t\t<div class="awxjs__app__ui-panel-content">\n\t\t\t\t\t').concat(e.html(),"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"));Object(S.a)("body").append(s),s=Object(S.a)("#awxjs__panel-calc"),t.width=s.outerWidth(!0),t.height=s.outerHeight(!0);var a={width:0,height:0};return s.children().forEach((function(e){if("absolute"!==window.getComputedStyle(e).position){var n=Object(S.a)(e);a.width=Math.max(t.width,n.outerWidth(!0)),a.height+=n.outerHeight(!0)}})),t.height=Math.max(t.height,a.height),t.height=Math.min(t.height,this.state.maxContentSize.height),s.remove(),t}},{key:"setContentSize",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&(t.height-=this.toolbar.outerHeight()),this.ui.content.css({"max-height":"".concat(t.height,"px"),width:"".concat(t.width,"px"),overflow:"auto"})}},{key:"setMaxContentSize",value:function(t){this.setState({maxContentSize:t});var e=this.contentSize();this.setContentSize(e,!1),this._updateSize()}},{key:"_updateSize",value:function(){if(this.opts.toggleable&&this.ui.close){var t={width:0,height:0};if(this.visible&&this._bounds.content){var e=this.contentSize(),n=e.height,i=e.width;this.ui.content.padding();n+=this.ui.toolbar.outerHeight(!0),t.width=i,t.height=n}else if(!this.visible&&this._bounds.toggle){var s=this._bounds.toggle,a=s.height,o=s.width;t.width=o,t.height=a}this.ui.container.css({"max-height":"".concat(t.height,"px"),"max-width":"".concat(t.width,"px")}),this.$el.css({"min-height":"".concat(t.height,"px"),"min-width":"".concat(t.width,"px")})}}},{key:"_render",value:function(){return'\n\t\t\t<div class="awxjs__app__ui-panel">\n\t\t\t\t<div class="awxjs__app__ui-panel-container">\n\t\t\t\t\t<div class="awxjs__app__ui-panel-toolbar">\n\t\t\t\t\t\t'.concat(this.opts.title?'<div class="awxjs__app__ui-panel-title">'.concat(this.opts.title,"</div>"):"",'\n\t\t\t\t\t\t<button class="awxjs__app__ui-panel-close">\n\t\t\t\t\t\t\t<svg version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<path d="m22.699 77.301c0.80078 0.80078 1.8008 1.1992 2.8008 1.1992s2-0.39844 2.8008-1.1992l21.699-21.602 21.699 21.699c0.80078 0.80078 1.8008 1.1992 2.8008 1.1992s2-0.39844 2.8008-1.1992c1.6016-1.6016 1.6016-4.1016 0-5.6992l-21.602-21.699 21.699-21.699c1.6016-1.6016 1.6016-4.1016 0-5.6992-1.6016-1.6016-4.1016-1.6016-5.6992 0l-21.699 21.699-21.699-21.602c-1.6016-1.6016-4.1016-1.6016-5.6992 0-1.6016 1.6016-1.6016 4.1016 0 5.6992l21.699 21.602-21.602 21.699c-1.5977 1.5-1.5977 4.1016 0 5.6016z"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="awxjs__app__ui-panel-content"></div>\n\t\t\t\t\t<div class="awxjs__app__ui-panel-toggle">').concat(this.opts.icon,"</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t")}},{key:"_layout",value:function(){if(j()(l()(n.prototype),"_layout",this).call(this),this.ui.content){var t=this.contentSize();if(t.width>0&&t.height>0){var e=this.ui.content.padding();this._bounds.content=Object(O.extend)(this.ui.content.bounds(),{height:t.height+e.top+e.bottom,width:t.width+e.left+e.right})}}this.ui.toggle&&(this._bounds.toggle=this.ui.toggle.bounds()),this._updateSize()}},{key:"_afterRender",value:function(){j()(l()(n.prototype),"_afterRender",this).call(this),this.opts.toggleable&&this.$el.addClass("awxjs__app__ui-panel-toggleable")}},{key:"_onAddedToDOM",value:function(){j()(l()(n.prototype),"_onAddedToDOM",this).call(this),this.opts.toggleable&&this.close()}},{key:"_setupEvents",value:function(){var t=this;this.opts.toggleable&&(this.ui.toggle.on("click",(function(){t.open()})),this.ui.close.on("click",(function(){t.close()})))}},{key:"content",get:function(){return this.ui.content}},{key:"toolbar",get:function(){return this.ui.toolbar}},{key:"visible",get:function(){return this.state.visible}}]),n}(D),T=n("fnc3"),$=(n("oVuX"),n("Rm1S"),n("cDf5")),z=n.n($);function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var I=function(t){o()(n,t);var e=A(n);function n(){var t;return s()(this,n),(t=e.call(this)).keyHandler=function(e){t.listenForKeys(e)},t}return f()(n,[{key:"start",value:function(){Object(S.a)(document).on("keyup keypress",this.keyHandler)}},{key:"stop",value:function(){Object(S.a)(document).off("keyup keypress",this.keyHandler)}},{key:"listenForKeys",value:function(t){var e=t.type,n=(t.key||"").toLowerCase();this.trigger(e,{event:e,key:n}),"keyup"===e&&("escape"===n||"esc"===n||27===t.keyCode?this.trigger("escape"):"enter"===n&&this.trigger("enter"))}}]),n}(g.a);function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var F,H=function(t){var e=t?t.document:null,n=e?e.defaultView||e.parentWindow:null;return!!(t&&"object"===z()(t)&&"object"===z()(t.window)&&t.window===t&&t.setTimeout&&t.alert&&Object(O.isset)(e)&&"object"===z()(e)&&Object(O.isset)(n)&&"object"===z()(n)&&n===t)},L=function(t,e){var n=H(t),i=n?t.document:t.ownerDocument||t,s=i.documentElement,a=H(e)?e:i.defaultView||window;t===i&&(t=s),e=e&&e!==i?e:s;var o=(a.pageYOffset||s.scrollTop)-s.clientTop,r=(a.pageXOffset||s.scrollLeft)-s.clientLeft,c={top:0,left:0,right:0,bottom:0,width:0,height:0};if(n)c.width=a.innerWidth||s.clientWidth,c.height=a.innerHeight||s.clientHeight,c.right=c.width,c.bottom=c.height;else if(t===s)c.top=-o,c.left=-r,c.width=Math.max(s.clientWidth,s.scrollWidth),c.height=Math.max(s.clientHeight,s.scrollHeight),c.right=c.width-r,c.bottom=c.height-o;else{if(!s.contains(t)||!t.getBoundingClientRect)return null;var u=t.getBoundingClientRect();Object.keys(c).forEach((function(t){c[t]=u[t]})),c.width=c.right-c.left,c.height=c.bottom-c.top}if(e===a)return c;if(c.top+=o,c.left+=r,c.right+=r,c.bottom+=o,e===s)return c;var l=L(e);return c.left-=l.left,c.right-=l.left,c.top-=l.top,c.bottom-=l.top,c},V=function(t){o()(n,t);var e=N(n);function n(t,i){var a;s()(this,n),(a=e.call(this))._size={width:0,height:0},a._observers={mutation:void 0,key:new I},a._reposition=function(){(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,17)})((function(){a.position()}))},a._opts=Object(O.extend)({place:"top",effect:"slide",spacing:5,showClose:!1},i),a._hidden=!0,a._element=Object(S.a)('<div class="awxjs__ui-tooltip"></div>');var o=a._opts.showClose?'\n\t\t\t<button class="awxjs__ui-btn-icon-sm awxjs__ui-tooltip-close">\n\t\t\t\t'.concat('\n\t<svg width="100pt" height="100pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t<path d="m22.699 77.301c0.80078 0.80078 1.8008 1.1992 2.8008 1.1992s2-0.39844 2.8008-1.1992l21.699-21.602 21.699 21.699c0.80078 0.80078 1.8008 1.1992 2.8008 1.1992s2-0.39844 2.8008-1.1992c1.6016-1.6016 1.6016-4.1016 0-5.6992l-21.602-21.699 21.699-21.699c1.6016-1.6016 1.6016-4.1016 0-5.6992-1.6016-1.6016-4.1016-1.6016-5.6992 0l-21.699 21.699-21.699-21.602c-1.6016-1.6016-4.1016-1.6016-5.6992 0-1.6016 1.6016-1.6016 4.1016 0 5.6992l21.699 21.602-21.602 21.699c-1.5977 1.5-1.5977 4.1016 0 5.6016z"/>\n\t</svg>\n',"\n\t\t\t</button>\n\t\t"):"";return a.$el.html("\n\t\t\t".concat(o,'\n\t\t\t<div class="awxjs__ui-tooltip-content"></div>\n\t\t')),a._opts.className&&a.$el.addClass(a._opts.className),a._opts.effect&&a.$el.addClass(a._opts.effect),t&&a.setContent(t),a._observers.key.on("escape",(function(){a.hide()})),a._observers.mutation=new MutationObserver((function(t,e){if(t&&a._target.length>0){var n=a._target[0];t.forEach((function(t){t.removedNodes&&t.removedNodes.length>0&&!1===document.body.contains(n)&&a.destroy()}))}})),a}return f()(n,[{key:"show",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return clearTimeout(this._hideTimeout),F&&e&&(F.hide(),F=this),this._target&&this.position(this._target),this._hidden&&(this._hidden=!1,Object(S.a)("body").append(this.$el)),this._observers.key.start(),this.$close.on("click",this.hide.bind(this)),Object(S.a)(window).on("scroll resize",this._reposition),setTimeout((function(){t.$el.addClass("in")}),100),this}},{key:"hide",value:function(){var t=this;if(this._hidden)return this;this._observers.key.stop(),this.$close.off("click",this.hide.bind(this)),this.$el.removeClass("in"),Object(S.a)(window).off("scroll resize",this._reposition),clearTimeout(this._hideTimeout);var e,n,i,s,a=(e=this.$el[0],n=window.getComputedStyle(e),i=String(n.getPropertyValue("transition-duration")||n.getPropertyValue("-webkit-transition-duration")).match(/([0-9.]+)([ms]{1,2})/),s=0,i&&(s=Number(i[1]),"s"===i[2]&&(s*=1e3)),s||0);return this._hideTimeout=setTimeout((function(){t.$el.remove()}),a),this._hidden=!0,this}},{key:"toggle",value:function(){return this.visible?this.hide():this.show()}},{key:"setContent",value:function(t){return Object(O.isString)(t)?this.$content.html(t):this.$content.empty().append(t),this._updateSize(),this}},{key:"attachTo",value:function(t){return this._target=t,t&&(this._observers.mutation.disconnect(),this._observers.mutation.observe(document,{childList:!0,subtree:!0})),this._hidden||this.position(),this}},{key:"detach",value:function(){return this.hide(),this._target=null,this._observers.mutation.disconnect(),this}},{key:"destroy",value:function(){this.detach(),this.$el.remove()}},{key:"position",value:function(t,e){t=t||this._target,!Object(O.isset)(t)&&this._p?(t=this._p[0],e=this._p[1]):(this._p=[],t&&this._p.push(t),e&&this._p.push(e)),t=t[0]||t;var n=Object(O.isNumber)(t)?{left:t||0,right:t||0,top:e||0,bottom:e||0,width:0,height:0}:L(t);if(!n)return this;var i=this._opts.spacing||0,s=this._pickPlace(n);s!==this._lastPlace&&(this._lastPlace&&this.$el.removeClass(this._lastPlace),this.$el.addClass(s),this._lastPlace=s);var a=this._lastPlace,o=this.size,r=o.width,c=o.height,u=0,l=0;return/^top/.test(a)?u=n.top-c-i:/^bottom/.test(a)?u=n.bottom+i:/^left/.test(a)?l=n.left-r-i:/^right/.test(a)&&(l=n.right+i),/-left$/.test(a)?l=n.right-r:/-right$/.test(a)?l=n.left:/-top$/.test(a)?u=n.bottom-c:/-bottom$/.test(a)&&(u=n.top),"left"===a||"right"===a?u=n.top+n.height/2-c/2:"top"!==a&&"bottom"!==a||(l=n.left+n.width/2-r/2),this.$el.css({top:"".concat(Math.round(u),"px"),left:"".concat(Math.round(l),"px")}),this}},{key:"_updateSize",value:function(){this._hidden&&(this.$el.css("visibility","hidden"),Object(S.a)("body").append(this.$el)),this._size={width:this.$el.outerWidth(!0),height:this.$el.outerHeight(!0)},this._hidden?(this.$el.remove(),this.$el.css("visibility","")):this.position()}},{key:"_pickPlace",value:function(t){var e=L(window),n=this._opts.place.split("-"),i=this._opts.spacing||0;if(-1!==["top","bottom"].indexOf(n[0]))switch(t.top-this.size.height-i<=e.top?n[0]="bottom":t.bottom+this.size.height+i>=e.bottom&&(n[0]="top"),n[1]){case"left":t.right-this.size.width<=e.left&&(n[1]="right");break;case"right":t.left+this.size.width>=e.right&&(n[1]="left");break;default:t.left+t.width/2+this.size.width/2>=e.right?n[1]="left":t.right-t.width/2-this.size.width/2<=e.left&&(n[1]="right")}else switch(t.left-this.size.width-i<=e.left?n[0]="right":t.right+this.size.width+i>=e.right&&(n[0]="left"),n[1]){case"top":t.bottom-this.size.height<=e.top&&(n[1]="bottom");break;case"bottom":t.top+this.size.height>=e.bottom&&(n[1]="top");break;default:t.top+t.height/2+this.size.height/2>=e.bottom?n[1]="top":t.bottom-t.height/2-this.size.height/2<=e.top&&(n[1]="bottom")}return n.join("-")}},{key:"$el",get:function(){return this._element}},{key:"$content",get:function(){return Object(S.a)(".awxjs__ui-tooltip-content",this.$el)}},{key:"$close",get:function(){return Object(S.a)(".awxjs__ui-tooltip-close",this.$el)}},{key:"$target",get:function(){return this._target}},{key:"size",get:function(){return this._size}},{key:"visible",get:function(){return!1===this._hidden}}]),n}(g.a);n("pNMO"),n("Rfxz"),n("ToJy"),n("8AyJ"),n("toAj"),n("4mDm"),n("3bBZ");function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var q=function(t){o()(n,t);var e=B(n);function n(t){var i;return s()(this,n),(i=e.call(this,Object(O.extend)({},t,{className:Object(O.get)(t,"className")?"ui-slider-range-handle ".concat(t.className):"ui-slider-range-handle"})))._handleMouseDown=function(t){i.focus()},i._handleMouseUp=function(t){document.activeElement===i.$el[0]&&i.setClickFocus(!0)},i._handleBlur=function(t){i.setClickFocus(!1)},i.initialize(),i.$el.on("mousedown",i._handleMouseDown),i.$el.on("blur",i._handleBlur),Object(S.a)(document).on("mouseup",i._handleMouseUp),i}return f()(n,[{key:"initialize",value:function(t){j()(l()(n.prototype),"initialize",this).call(this,t),this.updatePosition(0,this.opts)}},{key:"setClickFocus",value:function(t){this.setState({clickFocused:t}),t?this.$el.addClass("awxjs__ui-slider-range-handle-click-focused"):this.$el.removeClass("awxjs__ui-slider-range-handle-click-focused")}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.$el[0].focus()}},{key:"blur",value:function(){this.$el[0].blur()}},{key:"updatePosition",value:function(t,e){this.$el.css("left","".concat(t,"%")),e&&(this.$el.attr("aria-valuemin",e.values.min),this.$el.attr("aria-valuemax",e.values.max),this.$el.attr("aria-valuenow",e.values.current),this.$el.attr("aria-disabled",!0===e.disabled))}},{key:"_render",value:function(t){return'\n\t\t\t<div class="awxjs__ui-slider-range-handle"></div>\n\t\t'}},{key:"_afterRender",value:function(){this.$el.attr("role","slider"),Object(O.isset)(this.opts.tabindex)&&this.$el.attr("tabindex",this.opts.tabindex)}}]),n}(D);function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var K=function(t,e,n,i,s){var a=function(t,e,n,i,s){var a=Object.keys(e).map(parseFloat);if(null!==n){var o=Math.floor((s-i)/n),r=Math.min((t-i)/n,o),c=Math.round(r)*n+i;a.push(c)}var u=a.map((function(e){return Math.abs(t-e)}));return a[u.indexOf(Math.min.apply(Math,b()(u)))]}(t,e,n,i,s),o=Number.isFinite(a)?a:0;return Object(O.isset)(n)?parseFloat(o.toFixed(function(t){var e=t.toString(),n=0;return e.indexOf(".")>=0&&(n=e.length-e.indexOf(".")-1),n}(n))):o},U=function(t){if(t.touches){var e=t;if(e.touches.length>0)return e.touches[0]}return t},G=function(t){o()(n,t);var e=W(n);function n(t){var i;if(s()(this,n),(i=e.call(this,Object(O.extend)({range:{min:0,max:100},count:1,step:10,marks:{},marksEvery:void 0,dots:!0,disabled:!1,tooltip:!0,ui:{inner:".awxjs__ui-slider-range-inner",track:".awxjs__ui-slider-range-track",rail:".awxjs__ui-slider-range-rail",steps:".awxjs__ui-slider-range-steps",marks:".awxjs__ui-slider-range-marks",handles:".awxjs__ui-slider-range-handle"}},t,{className:Object(O.get)(t,"className")?"ui-slider-range ".concat(t.className):"ui-slider-range"})))._handles=[],i._onBoundsChange=function(t){var e=t.bounds.map((function(t){return i._offsetForValue(t)}));Object(O.isset)(i._handles)&&i._handles.length<=e.length&&e.forEach((function(t,n){var s=i._handles[n];s&&s.updatePosition(e[n])})),i._onChange(t)},i._onChange=function(t){if(!Object(O.isEmpty)(i._handles)){var e=t.bounds,n=t.handle,s=e.map((function(t){return i._offsetForValue(t)})),a=i._handles[n];if(a&&(a.updatePosition(s[n]),i._updateTooltip(e[n],n)),1===s.length)i.ui.track.css({left:"0%",width:"".concat(s[0],"%")});else{var o=s[s.length-1]-s[0];i.ui.track.css({left:"".concat(s[0],"%"),width:"".concat(o,"%")})}i.setState({bounds:e});var r=i._getLowerBound(),c=i._getUpperBound();i.ui.steps.children().forEach((function(t){var e=Object(S.a)(t),n=parseFloat(e.data("key"));n===c||n<=c&&n>=r?e.addClass("awxjs__ui-slider-range-dot-active"):e.removeClass("awxjs__ui-slider-range-dot-active")})),i.ui.marks.children().forEach((function(t){var e=Object(S.a)(t),n=parseFloat(e.data("key"));n===c||n<=c&&n>=r?e.addClass("awxjs__ui-slider-range-mark-text-active"):e.removeClass("awxjs__ui-slider-range-mark-text-active")})),i.trigger("change",{value:Object.assign({},t.bounds)})}},i._onStart=function(t){var e=i.value,n=i._valueAtPosition(t),s=i._getClosestBound(n),a=i._getBoundNeedMoving(n,s);if(i.trigger("change:start",{value:i.value}),i.setState({handle:a,recent:a}),n!==e[a]){var o=b()(i.state.bounds);o[a]=n,i._lastMovedHandle=a,i._onChange({bounds:o,handle:a})}},i._onEnd=function(){var t=i.state.handle;i._removeDocumentEvents(),Object(O.isset)(t),i.setState({handle:null}),i.trigger("change:end",{value:i.value})},i._onMove=function(t,e){var n=i.state,s=n.bounds,a=n.handle,o=i._valueAtPosition(e);o!==s[a]&&i._moveTo(o)},i._onKeyboard=function(t){},i._onMouseDown=function(t){var e=t.target;if(-1!==i._handles.map((function(t){return t.$el[0]})).indexOf(e)){t.preventDefault();var n=U(t).pageX;if(!1===function(t,e){try{return Object(O.isArray)(e)?e.some((function(e){return t.target===e})):Object.keys(e).some((function(n){return t.target===e[n]}))}catch(t){return!1}}(t,i._handles.map((function(t){return t.$el}))))i._dragOffset=0;else{var s=function(t){var e=Object(S.a)(t).bounds();return window.pageXOffset+e.left+.5*e.width}(e);i._dragOffset=n-s,n=s}i._removeDocumentEvents(),i._onStart(n),i._addDocumentEvents();var a=i.state,o=a.bounds,r=a.handle;i._updateTooltip(o[r],r),i._tooltip.show(!1)}},i._onMouseUp=function(t){i._tooltip.hide(),i._onEnd()},i._onMouseMove=function(t){if(i.ui.rail){var e=U(t).pageX;i._onMove(t,e-i._dragOffset)}else i._onEnd()},Object(O.isArray)(i.opts.value)){var a=d()(i.opts.value,2),o=a[0],r=a[1],c=i.opts.step;if(o%c!=0)"[Aeris] The 'value' property passed to the range configuration\n\t\t\t\t\t([".concat(o,", ").concat(r,"]) does not contain from/to values equally divisible by the\n\t\t\t\t\tstep value (").concat(c,", which may affect the rendered step range in the\n\t\t\t\t\tcontrol.").replace(/\s+/g," ")}var u=(i.opts.value||Array.apply(void 0,b()(Array(i.opts.count+1))).map((function(){return i.opts.range.min}))).map((function(t,e){return i._trimAlignValue(t,e)}));return i.setState({bounds:u}),i._tooltip=new V,i.update(),i}return f()(n,[{key:"_render",value:function(){var t=this.state.bounds;if(!t)return null;var e=this.opts,n=e.range,i=n.min,s=n.max,a=e.marks,o=e.marksEvery,r=e.step,c=s-i,u=this.opts.dots&&r>1,l=Object.keys(a).map(parseFloat).filter((function(t){return t>=i&&t<=s})).sort((function(t,e){return t-e}));if(u)for(var h=i;h<=s;h+=r)-1===l.indexOf(h)&&l.push(h);var d=a||{};if(Object(O.isset)(o)){var p=1,f=!1;if(Object(O.isString)(o)){var v="".concat(o);f=/^%\s*\d+$/.test(v),p=parseInt(v.replace(/\D/,""),10)}else p=parseInt("".concat(o),10);for(var _=i,g=0;_<=s;){if(f?_%p==0:g%p==0){var m="".concat(_);if(!Object(O.isset)(d[_])){var y=this.opts.marksFormatter;d[m]=Object(O.isset)(y)&&Object(O.isFunction)(y)?y(_):m}}_+=r,g+=1}Object(O.set)(this.opts,"marks",d)}var b=Object.keys(d).map(parseFloat).filter((function(t){return t>=i&&t<=s})).sort((function(t,e){return t-e})).map((function(t){var e=d[t];if(Object(O.isEmpty)(e))return null;var n="".concat(Math.abs(t-i)/c*100,"%");return'<div\n\t\t\t\t\tclass="awxjs__ui-slider-range-mark-text"\n\t\t\t\t\tstyle="left:'.concat(n,';transform:translateX(-50%);msTransform:translateX(-50%);"\n\t\t\t\t\tdata-key="').concat(t,'"\n\t\t\t\t>').concat(e,"</div>")})),w=l.map((function(t){var e="".concat(Math.abs(t-i)/c*100,"%");return'<div\n\t\t\t\tclass="awxjs__ui-slider-range-dot"\n\t\t\t\tstyle="left:'.concat(e,';"\n\t\t\t\tdata-key="').concat(t,'"\n\t\t\t></div>')}));return this._handles=t.map((function(t,e){return new q({values:{min:i,max:s,current:t}})})),'\n\t\t\t<div class="awxjs__ui-slider-range">\n\t\t\t\t'.concat(this.opts.title?'<div class="awxjs__ui-slider-range-title">'.concat(this.opts.title,"</div>"):"",'\n\t\t\t\t<div class="awxjs__ui-slider-range-inner">\n\t\t\t\t\t<div class="awxjs__ui-slider-range-rail"></div>\n\t\t\t\t\t<div class="awxjs__ui-slider-range-track"></div>\n\t\t\t\t\t<div class="awxjs__ui-slider-range-steps">').concat(w.join(""),'</div>\n\t\t\t\t\t<div class="awxjs__ui-slider-range-marks">').concat(b.join(""),"</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t")}},{key:"_afterRender",value:function(){var t=this,e=this.state.bounds.map((function(e){return t._offsetForValue(e)}));this.opts.ui&&(this.setUI(this.opts.ui),this.ui.marks.children().length>0&&this.$el.addClass("awxjs__ui-slider-range-with-marks"),this._setupEvents(),this.opts.width>0&&this.ui.inner.width(this.opts.width),this._handles.forEach((function(n,i){n.addTo(t.ui.inner),n.updatePosition(e[i])}))),this._onChange(this.state)}},{key:"_setupEvents",value:function(){j()(l()(n.prototype),"_setupEvents",this).call(this),this.$el.on("mousedown touchstart",this._onMouseDown)}},{key:"_getClosestBound",value:function(t){for(var e=this.state.bounds,n=0,i=1;i<e.length-1;i+=1)t>e[i]&&(n=i);return Math.abs(e[n+1]-t)<Math.abs(e[n]-t)&&(n+=1),n}},{key:"_getBoundNeedMoving",value:function(t,e){var n=this.state,i=n.bounds,s=n.recent,a=e,o=i[e+1]===i[e];return o&&i[s]===i[e]&&(a=s),o&&t!==i[e+1]&&(a=t<i[e+1]?e:e+1),a}},{key:"_getLowerBound",value:function(){var t=this.state.bounds,e=this.opts.range,n=e.min;e.max;return 1===t.length?n:t[0]}},{key:"_getUpperBound",value:function(){var t=this.state.bounds;return t[t.length-1]}},{key:"_getPoints",value:function(){var t=this.opts,e=t.marks,n=t.range,i=n.min,s=n.max,a=t.step,o=this._points;if(!o||o.marks!==e||o.step!==a){var r=Object.assign({},e);if(Object(O.isset)(a))for(var c=i;c<=s;c+=a)r[c]=c;var u=Object.keys(r).map(parseFloat);u.sort((function(t,e){return t-e})),this._points={marks:e,step:a,points:u}}return this._points.points}},{key:"_moveTo",value:function(t){var e=this.state,n=e.handle,i=e.recent,s=e.bounds,a=Object(O.isset)(n)?n:i,o=b()(s);o[a]=t;var r=a;this._onChange({handle:r,bounds:o})}},{key:"_trimAlignValue",value:function(t,e){var n=this.opts.range,i=function(t,e,n){return t<=e?e:t>=n?n:t}(t,n.min,n.max),s=this._ensureValueNotConflict(i,e);return K(s,this.opts.marks,this.opts.step,this.opts.range.min,this.opts.range.max)}},{key:"_ensureValueNotConflict",value:function(t,e){var n=this.state,i=n.bounds,s=n.handle;if(e=Object(O.isset)(e)?e:s,Object(O.isset)(e)&&Object(O.isset)(i)){if(e>0&&t<=i[e-1])return i[e-1];if(e<i.length-1&&t>=i[e+1])return i[e+1]}return t}},{key:"_valueAtPosition",value:function(t){var e=t-(this.ui.rail.bounds().left+window.pageXOffset);return this._trimAlignValue(this._valueAtOffset(e))}},{key:"_valueAtOffset",value:function(t){var e=this.opts.range,n=e.min,i=e.max,s=this.ui.rail?this.ui.rail.bounds().width:0;return Math.abs(Math.max(t,0)/s)*(i-n)+n}},{key:"_offsetForValue",value:function(t){var e=this.opts.range,n=e.min;return 100*((t-n)/(e.max-n))}},{key:"_updateTooltip",value:function(t,e){if(!Object(O.isEmpty)(this._handles)){var n=this._handles[e],i=t.toString();Object(O.isFunction)(this.opts.tooltip)&&(i=this.opts.tooltip(t)),this._tooltip.setContent(i).position(n.$el)}}},{key:"_addDocumentEvents",value:function(){Object(S.a)(document).on("mousemove touchmove",this._onMouseMove).on("mouseup touchend",this._onMouseUp)}},{key:"_removeDocumentEvents",value:function(){Object(S.a)(document).off("mousemove touchmove",this._onMouseMove).off("mouseup touchend",this._onMouseUp)}},{key:"value",get:function(){return this.state.bounds},set:function(t){var e=this,n=t.map((function(t,n){return e._trimAlignValue(t,n)}));this.setState({bounds:n}),this._onBoundsChange(this.state)}}]),n}(D);function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var X=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]])}return n},Z={opacity:{type:"slider",label:"Opacity",options:{value:[100],range:{min:0,max:100},marksEvery:"% 50",marksFormatter:function(t){return"".concat(t,"%")},step:5,dots:!1,tooltip:function(t){return"".concat(t,"%")}}}},J=function(t){o()(n,t);var e=Y(n);function n(t){var i;return s()(this,n),(i=e.call(this,t)).initialize(),i}return f()(n,[{key:"_render",value:function(t){return'\n\t\t\t<div class="awxjs__ui-layer-controls"></div>\n\t\t'}},{key:"_setupEvents",value:function(){var t=this;j()(l()(n.prototype),"_setupEvents",this).call(this),(this.opts.controls||[]).map((function(t){var e=t.type,n=X(t,["type"]);return Object.keys(Z).indexOf(e)>-1?Object(O.extend)({},Z[e],n):t})).forEach((function(e){var n=e.type,i=e.id,s=e.label,a=e.options,o=i||s.replace(/\s+/,"-").toLowerCase();if("slider"===n){var r=new G(Object(O.extend)(Object.assign(Object.assign({},a),{title:s,width:150}),{}));r.addTo(t.$el),r.on("change",(function(e){var n=Object(O.get)(e,"data.value");n&&Object(O.isset)(n[0])&&(n=n[0]),t.trigger("change",{id:o,value:n})}))}}))}}]),n}(D);function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var tt=null,et=function(t){o()(n,t);var e=Q(n);function n(t){var i,a;return s()(this,n),(i=e.call(this,Object(O.extend)({controls:[{close:!0,activity:!1,settings:void 0}]},t,{ui:{close:".awxjs__ui-btn-close",settings:".awxjs__ui-btn-settings",controls:".awxjs__ui-btn-controls"}})))._handleWindowClick=function(t){var e=Object(S.a)(t.target),n=i._popover.$el;n!==e&&!1===n.contains(e)&&(i._hidePopover(),window.removeEventListener("click",i._handleWindowClick))},(null===(a=t.controls)||void 0===a?void 0:a.onChange)&&(i._onChange=t.controls.onChange),i.opts.controls.activity&&(i._indicator=new T.a({size:24,strokeWidth:2})),i}return f()(n,[{key:"setLoading",value:function(t){this._indicator&&(t?this._indicator.startAnimating():this._indicator.stopAnimating()),this.ui.close.css("opacity",t?0:1),this.ui.settings&&this.ui.settings.css("opacity",t?0:1)}},{key:"addToButton",value:function(t){var e=this;t.ui.target&&(this.remove(),this.addTo(t.$el),t.on("select",(function(){e.ui.settings&&e.ui.settings.show()})).on("deselect",(function(){e.ui.close&&e.ui.close.css("opacity",0),e.ui.settings&&e.ui.settings.hide(),e._popover&&e._hidePopover()})))}},{key:"_render",value:function(){var t=this.opts.controls,e="";return t.close&&(e+='\n\t\t\t\t<div class="awxjs__ui-btn-action awxjs__ui-btn-close" title="Close">\n\t\t\t\t\t<svg width="100pt" height="100pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t<path d="m22.699 77.301c0.80078 0.80078 1.8008 1.1992 2.8008 1.1992s2-0.39844 2.8008-1.1992l21.699-21.602 21.699 21.699c0.80078 0.80078 1.8008 1.1992 2.8008 1.1992s2-0.39844 2.8008-1.1992c1.6016-1.6016 1.6016-4.1016 0-5.6992l-21.602-21.699 21.699-21.699c1.6016-1.6016 1.6016-4.1016 0-5.6992-1.6016-1.6016-4.1016-1.6016-5.6992 0l-21.699 21.699-21.699-21.602c-1.6016-1.6016-4.1016-1.6016-5.6992 0-1.6016 1.6016-1.6016 4.1016 0 5.6992l21.699 21.602-21.602 21.699c-1.5977 1.5-1.5977 4.1016 0 5.6016z"/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t'),t.settings&&(e+='\n\t\t\t\t<div class="awxjs__ui-btn-action awxjs__ui-btn-settings" title="Settings">\n\t\t\t\t\t<svg version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t<path d="m94.801 40.801-10.602-1.8008c-0.60156-1.8984-1.3984-3.6992-2.3008-5.5l6.1992-8.6992c0.89844-1.3008 0.80078-3.1016-0.30078-4.1992l-8.5-8.5c-1.1016-1.1016-2.8984-1.3008-4.1992-0.30078l-8.6992 6.1992c-1.6992-0.89844-3.6016-1.6992-5.5-2.3008l-1.6992-10.5c-0.30078-1.6016-1.6016-2.6992-3.1992-2.6992h-12c-1.6016 0-2.8984 1.1016-3.1992 2.6992l-1.8008 10.602c-1.8984 0.60156-3.6992 1.3984-5.5 2.3008l-8.6992-6.1992c-1.3008-0.89844-3.1016-0.80078-4.1992 0.30078l-8.5 8.5c-1.1016 1.1016-1.3008 2.8984-0.30078 4.1992l6.1992 8.6992c-0.89844 1.6992-1.6992 3.6016-2.3008 5.5l-10.5 1.6992c-1.6016 0.30078-2.6992 1.6016-2.6992 3.1992v12c0 1.6016 1.1016 2.8984 2.6992 3.1992l10.602 1.8008c0.60156 1.8984 1.3984 3.6992 2.3008 5.5l-6.1992 8.6992c-0.89844 1.3008-0.80078 3.1016 0.30078 4.1992l8.5 8.5c1.1016 1.1016 2.8984 1.3008 4.1992 0.30078l8.6992-6.1992c1.6992 0.89844 3.6016 1.6992 5.5 2.3008l1.8008 10.602c0.30078 1.6016 1.6016 2.6992 3.1992 2.6992h12c1.6016 0 2.8984-1.1016 3.1992-2.6992l1.6992-10.703c1.8984-0.60156 3.6992-1.3984 5.5-2.3008l8.6992 6.1992c1.3008 0.89844 3.1016 0.80078 4.1992-0.30078l8.5-8.5c1.1016-1.1016 1.3008-2.8984 0.30078-4.1992l-6.1992-8.6992c0.89844-1.6992 1.6992-3.6016 2.3008-5.5l10.602-1.8008c1.6016-0.30078 2.6992-1.6016 2.6992-3.1992v-11.898c-0.10156-1.6016-1.2031-2.8984-2.8008-3.1992zm-44.801 26.301c-9.5 0-17.102-7.6992-17.102-17.102 0-9.5 7.6992-17.102 17.102-17.102 9.3984 0 17.102 7.6016 17.102 17.102s-7.6016 17.102-17.102 17.102z"/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t'),""!==e&&(e='<div class="awxjs__ui-btn-controls">'.concat(e,"</div>")),e}},{key:"_setupEvents",value:function(){var t=this;j()(l()(n.prototype),"_setupEvents",this).call(this);var e=this.opts.controls;this._indicator&&this._indicator.appendTo(this.$el),e.settings&&this.ui.settings&&this.ui.settings.on("click",(function(n){if(n.preventDefault(),n.stopPropagation(),!t._popover){var i=new J({controls:e.settings});i.on("change",(function(e){var n=Object.assign({},e.data);t.trigger("change",n),t._onChange&&t._onChange(n)}));var s=new V(i.$el,{place:"left",className:"awxjs__ui-layer-controls-popover",showClose:!0});i.addTo(s.$el),s.attachTo(t.parent()),s.setContent(i.$el),t._popover=s,t._controls=i}t._popover.visible?t._hidePopover():t._showPopover(),window.addEventListener("click",t._handleWindowClick)}))}},{key:"_showPopover",value:function(){tt&&tt.hide(),this._popover.show(),tt=this._popover}},{key:"_hidePopover",value:function(){this._popover.hide(),tt=null}}]),n}(R);function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var it=function(t){return(t||"").replace(/\:.+$/,"").replace(/[^a-zA-Z0-9_]/g,"-").replace(/-+/g,"-").replace(/,/g,"__").toLowerCase()},st=function(t){o()(n,t);var e=nt(n);function n(t){var i;return s()(this,n),(t=Object(O.extend)({toggleable:!0,controls:{close:!0,activity:!0}},t,{className:t.className?"ui-btn ".concat(t.className):"ui-btn",ui:{target:".awxjs__ui-btn-target",label:".awxjs__ui-btn-label",close:".awxjs__ui-btn-close",settings:".awxjs__ui-btn-settings",controls:".awxjs__ui-btn-controls"}})).id=t.id||(t.value?t.value.replace(/,/g,"__"):null),i=e.call(this,t),t.controls&&(i._controls=new et({controls:t.controls})),i.setState({selected:!1}),i.initialize(),i}return f()(n,[{key:"select",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!1===this.selected&&(this.$el.addClass("selected"),this._onSelect(t))}},{key:"deselect",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.selected&&(this.$el.removeClass("selected"),this._onDeselect(t))}},{key:"disable",value:function(t){this.$el.attr("data-disabled",t?1:0)}},{key:"matches",value:function(t){var e=this;return(Object(O.isArray)(t)?t:[t]).filter((function(t){return e.id===t||e.key===t||e.value===t})).length>0}},{key:"setLoading",value:function(t){this.controls&&this.controls.setLoading(t)}},{key:"_onSelect",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState({selected:!0}),t&&(this.trigger("select",{value:this.value}),this.opts.onSelect&&this.opts.onSelect(this))}},{key:"_onDeselect",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState({selected:!1}),t&&(this.trigger("deselect",{value:this.value}),this.opts.onDeselect&&this.opts.onDeselect(this))}},{key:"_render",value:function(){return'\n\t\t\t<div class="awxjs__ui-btn">\n\t\t\t\t<div class="awxjs__ui-btn-target">\n\t\t\t\t\t<div class="awxjs__ui-btn-label">'.concat(this.opts.title,"</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t")}},{key:"_onAddedToDOM",value:function(){j()(l()(n.prototype),"_onAddedToDOM",this).call(this),this.$el.attr("data-id",this.id),this.opts.selected&&this.select(),this.controls&&this.controls.addToButton(this)}},{key:"_setupEvents",value:function(){var t=this;j()(l()(n.prototype),"_setupEvents",this).call(this),this.$el.on("click",(function(e){e.stopPropagation(),Object(O.toBool)(t.$el.attr("data-disabled"))||!1||(t.selected?t.toggleable&&t.deselect():t.select())}));var e=this.controls;e&&(e.on("change",(function(e){t.trigger("control:change",Object.assign(Object.assign({},t.info),{control:Object.assign({},e.data)}))})),e.ui.settings&&!this.opts.selected&&e.ui.settings.hide(),e.ui.close&&this.ui.target.on("mouseenter",(function(){t.$el.hasClass("selected")&&!0!==Object(O.toBool)(t.$el.attr("data-disabled"))&&e.ui.close.css("opacity",1)})).on("mouseleave",(function(t){e.ui.close.css("opacity",0)})))}},{key:"id",get:function(){return it(this.opts.id||this.opts.value)}},{key:"key",get:function(){return"".concat(this.parentId?"".concat(this.parentId,"::"):"").concat(this.groupId?"".concat(this.groupId,"::"):"").concat(this.id)}},{key:"parentId",get:function(){return this.opts.parent}},{key:"groupId",get:function(){return this.opts.group}},{key:"info",get:function(){return{id:this.id,key:this.key,value:this.value,group:this.groupId,parent:this.parentId,options:this.options}}},{key:"selected",get:function(){return this.state.selected}},{key:"toggleable",get:function(){return this.opts.toggleable}},{key:"controls",get:function(){return this._controls}},{key:"value",get:function(){return this.opts.value}},{key:"title",get:function(){return this.opts.title}},{key:"options",get:function(){return this.opts.options}}]),n}(D);function at(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var ot=function(t){o()(n,t);var e=at(n);function n(t){return s()(this,n),"all"===t.value?t.multiselect=!1:Object(O.isset)(t.multiselect)||(t.multiselect=!0),e.call(this,t)}return f()(n,[{key:"_render",value:function(t){return"\n\t\t\t<li>".concat(this.title,"</li>\n\t\t")}},{key:"key",get:function(){return"".concat(this.parentId?"".concat(this.parentId,"::"):"").concat(this.groupId?"".concat(this.groupId,"::"):"").concat(this.id)}},{key:"multiselect",get:function(){return this.opts.multiselect}}]),n}(st),rt=n("J8dV");function ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var ut=function(t){o()(n,t);var e=ct(n);function n(t){var i;return s()(this,n),(i=e.call(this,Object(O.extend)({reloadOnChange:!0},t,{ui:{segments:".awxjs__ui-btn-segments ul"}}))).storedSegments=[],i}return f()(n,[{key:"setSegments",value:function(t){var e=this;this.storedSegments=t,this.ui.segments&&t.forEach((function(t){t.addTo(e.ui.segments),t.on("select",(function(n){e._handleSelectSegment(t)})).on("deselect",(function(n){e._handleDeselectSegment(t)}))}))}},{key:"selectedSegments",value:function(){return this.segments.filter((function(t){return t.selected}))}},{key:"clear",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.selectedSegments().forEach((function(e){e.deselect(t)}))}},{key:"_handleSelectSegment",value:function(t){!1===(this.opts.multiselect&&"all"!==t.value&&!1!==t.multiselect)?this.selectedSegments().forEach((function(e){e.value!==t.value&&e.deselect()})):this.selectedSegments().forEach((function(t){!1===t.multiselect&&t.deselect()})),this._handleValueChange()}},{key:"_handleDeselectSegment",value:function(t){var e;0===this.selectedSegments().length&&(this.opts.multiselect?this.segments.forEach((function(t){e||"all"!==t.value&&!1!==t.multiselect||(t.select(),e=t)})):this.opts.requiresSelection&&this.segments[0].select());this._handleValueChange()}},{key:"_handleValueChange",value:function(){this.opts.onChange&&this.opts.onChange(this),this.trigger("change",{id:this.id,value:this.value,reload:this.opts.reloadOnChange})}},{key:"_render",value:function(t){return'\n\t\t\t<div data-group="'.concat(this.id,'" class="').concat(rt.a.cssPrefix,'ui-btn-segmented__group">\n\t\t\t\t').concat(Object(O.isEmpty)(this.title)?"":'<p class="'.concat(rt.a.cssPrefix,'ui-btn-segmented__group-title">').concat(this.title,"</p>"),'\n\t\t\t\t<div class="').concat(rt.a.cssPrefix,'ui-btn-segments"><ul></ul></div>\n\t\t\t</div>\n\t\t')}},{key:"_onAddedToDOM",value:function(){var t=this;j()(l()(n.prototype),"_onAddedToDOM",this).call(this);var e=(this.opts.segments||[]).map((function(e){var n=Object(O.cloneDeep)(e),i=n.value.replace(/\:.+$/,"").replace(/,/,"--").replace(/;/,"__");return n.id=n.id||i,new ot(Object.assign(Object.assign({},n),{loader:!1,toggleable:!0===t.opts.multiselect,parent:t.parentId,group:t.id}))}));this.setSegments(e)}},{key:"id",get:function(){return this.opts.id}},{key:"parentId",get:function(){return this.opts.parentId}},{key:"title",get:function(){return this.opts.title}},{key:"value",get:function(){var t=this.selectedSegments().map((function(t){return t.value}));return!1===this.opts.multiselect?t.join(","):t}},{key:"segments",get:function(){return this.storedSegments}}]),n}(D);function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var ht=function(t){o()(n,t);var e=lt(n);function n(t){var i;return s()(this,n),(i=e.call(this,Object(O.extend)({filter:!1,multiselect:!1,groupMultiselect:!0,reloadOnChange:!0,ui:{all:".awxjs__ui-btn-segmented__option-all",segments:".awxjs__ui-btn-segments",groups:".awxjs__ui-btn-segmented__groups"}},t,{className:t.className?"ui-btn-segmented ".concat(t.className):"ui-btn-segmented"})))._segments=[],i._groups=[],i._groupsById={},i._value=null,i._expanded=!1,i._handleValueChange=Object(O.debounce)((function(){var t,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(O.isEmpty)(i._value)?[]:Object(O.cloneDeep)(i._value),s=i.value;Object(O.isPlainObject)(n)?t=i.segments().filter((function(t){var e=!1;return Object.keys(n).forEach((function(i){t.value===n[i]&&t.groupId===i&&(e=!0)})),e})).map((function(t){return t.info})):Object(O.isArray)(n)&&(t=i.segments().filter((function(t){return-1!==n.indexOf(t.value)})).map((function(t){return t.info}))),i._value=Object(O.cloneDeep)(s),e&&i.trigger("value:change",{value:s,previous:n,previousSegments:t,reload:i.opts.reloadOnChange}),i.opts.onChange&&i.opts.onChange(_()(i))}),200),i._triggerTimeout=null,i}return f()(n,[{key:"size",value:function(){var t=j()(l()(n.prototype),"size",this).call(this);if(this.selected){var e=this.ui.groups||this.ui.segments,i=e.css("max-height");e.css("max-height","auto");var s=parseFloat(i.replace(/[^0-9\.]/,""));s+=this.el(".awxjs__ui-btn-label").outerHeight(!0),e.css("max-height",i);var a=this.$el.padding();s+=a.top+a.bottom;var o=this.$el.margins();s+=o.top+o.bottom,t.height=s}return t}},{key:"segments",value:function(){return this._groups.length>0?this._groups.reduce((function(t,e){return t=t.concat(e.segments)}),[]):this._segments}},{key:"segmentValues",value:function(){return this.segments().map((function(t){return t.value}))}},{key:"segmentIds",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.segments().map((function(e){return t?e.key.replace(/^.+___/,""):e.id.replace(/^.+___/,"")}))}},{key:"segmentInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t?this.selectedSegments():this.segments();return e.map((function(t){return t.info}))}},{key:"segmentGroups",value:function(){return this._groups}},{key:"containsValue",value:function(t){var e=t.replace(/^.+::/,"");return this.segmentValues().indexOf(e)>-1||this.segmentIds().indexOf(e)>-1}},{key:"containsId",value:function(t){return this.segmentIds(!0).indexOf(t)>-1}},{key:"selectSegment",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setSegmentSelected(t,!0,e)}},{key:"deselectSegment",value:function(t){this.setSegmentSelected(t,!1)}},{key:"setSegmentSelected",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=!1,a=this.segments();return a&&a.length>0&&a.forEach((function(i){Object(O.isString)(t)?i.id===t||i.key===t?(e?i.select():i.deselect(),s=!0):n.id===t&&(s=!0):Object(O.isPlainObject)(t)&&Object.keys(t).forEach((function(a){var o=n._groupsById[a];o&&o.segments.forEach((function(n){n.id!==t&&n.key!==t||(e?i.select():i.deselect(),s=!0)}))}))})),s&&e&&i&&(Object(O.isEmpty)(this._value)&&(this._value=this.value),this.select()),s}},{key:"selectedSegments",value:function(){return this.segments().filter((function(t){return t.selected}))}},{key:"_onSelect",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isExpanded||this._showSegments(!0),j()(l()(n.prototype),"_onSelect",this).call(this,t)}},{key:"_onDeselect",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isExpanded&&this._showSegments(!1),j()(l()(n.prototype),"_onDeselect",this).call(this,t)}},{key:"_render",value:function(t){var e="",n=Object(O.get)(this.opts,"segments");return n&&(Object(O.isArray)(n)?(this._renderSegments(n),e+='<div class="awxjs__ui-btn-segments"><ul></ul></div>'):n.groups&&(this._renderGroups(n.groups),e+='<div class="awxjs__ui-btn-segmented__groups"></div>')),'\n\t\t\t<div class="awxjs__ui-btn-segmented">\n\t\t\t\t<div class="awxjs__ui-btn-target">\n\t\t\t\t\t<div class="awxjs__ui-btn-label">'.concat(this.opts.title,"</div>\n\t\t\t\t</div>\n\t\t\t\t").concat(e,"\n\t\t\t</div>\n\t\t")}},{key:"_renderSegments",value:function(t){var e=this;this._segments=(t||[]).map((function(t){var n=Object(O.cloneDeep)(t);return n.id=n.id||n.value.replace(/\:.+$/,"").replace(/,/,"--").replace(/;/,"__"),n.options=Object(O.extend)({},e.options,n.options),new ot(Object.assign(Object.assign({multiselect:e.opts.multiselect},n),{loader:!1,toggleable:!0===e.opts.multiselect,parent:e.id}))}))}},{key:"_renderGroups",value:function(t){var e=this;Object(O.isset)(this._groupsById)||(this._groupsById={}),this._groups=(t||[]).map((function(t,n){var i=Object(O.cloneDeep)(t);i.id=i.id||"".concat(e.id,"-").concat(n),i.options=Object(O.extend)({},e.options,i.options);var s=new ut(Object.assign({filter:e.opts.filter,multiselect:e.opts.multiselect,requiresSelection:!0===e.opts.groupMultiselect,reloadOnChange:e.opts.reloadOnChange,parentId:e.id},i));return e._groupsById[i.id]=s,s}))}},{key:"_onAddedToDOM",value:function(){var t=this;if(j()(l()(n.prototype),"_onAddedToDOM",this).call(this),this._groups&&this.ui.groups)this._groups.forEach((function(e){e.addTo(t.ui.groups),e.on("change",(function(e){var n=e.data||{},i=n.id,s=n.value,a=n.reload;!1===t.opts.groupMultiselect&&Object(O.isset)(s)&&t._groups.forEach((function(t){t.id!==i&&t.clear(!1)})),t._handleValueChange({reload:a})}))}));else if(this._segments&&this.ui.segments){var e=Object(S.a)("ul",this.ui.segments);this._segments.forEach((function(n){n.addTo(e),n.on("select",(function(e){t._handleSelectSegment(n,t.selected)})).on("deselect",(function(e){t._handleDeselectSegment(n,t.selected)}))}))}this._value=this.value}},{key:"_setupEvents",value:function(){j()(l()(n.prototype),"_setupEvents",this).call(this),this.ui.groups&&this.ui.groups.on("click",(function(t){t.stopPropagation()}))}},{key:"_handleSelectSegment",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.opts.multiselect&&"all"!==t.value&&!1!==t.multiselect;!1===n?this.selectedSegments().forEach((function(e){e.value!==t.value&&e.deselect()})):this.selectedSegments().forEach((function(t){!1===t.multiselect&&t.deselect()})),this.opts.onSelectSegment&&this.opts.onSelectSegment(t),this._handleValueChange({reload:this.opts.filter&&this.opts.reloadOnChange},e)}},{key:"_handleDeselectSegment",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.state.selected){var n,i=this.selectedSegments().length;if(0===i)if(this.opts.multiselect)this.segments().forEach((function(t){n||"all"!==t.value&&!1!==t.multiselect||(t.select(),n=t)}));this.opts.onDeselectSegment&&this.opts.onDeselectSegment(t)}this._handleValueChange({reload:this.opts.filter&&this.opts.reloadOnChange},e)}},{key:"_showSegments",value:function(t){var e,n=this;if(t)if(this._value&&this._value.length>0)this._handleValueChange();else if(this._groups&&this._groups.length>0){var i=null;this._groups.forEach((function(t){t.segments.length>0&&(!Object(O.isset)(i)||!0===n.opts.groupMultiselect)&&(t.segments[0].select(),i=t.segments[0])}))}else{null===(e=this.segments()[0])||void 0===e||e.select()}var s=0,a=this.ui.segments;this.ui.groups&&this.ui.groups.length>0?(a=this.ui.groups,s=this.ui.groups.children().reduce((function(t,e){return t+=Object(S.a)(e).outerHeight(!0)}),0)):s=Object(S.a)("ul",this.ui.segments).height(),a.css({"max-height":"".concat(t?s:0,"px")}),this._triggerTimeout&&clearTimeout(this._triggerTimeout),this._expanded=t,this._triggerTimeout=setTimeout((function(){var e=t?"expanded":"collapsed";n.trigger(e)}),t?0:600)}},{key:"value",get:function(){var t=this.selectedSegments();return this._groups.length>0?this.opts.groupMultiselect?this._groups.reduce((function(t,e){return t[e.id]=e.value,t}),{}):this._groups.map((function(t){return t.value})).filter((function(t){return!Object(O.isEmpty)(t)})):t.map((function(t){return t.value}))},set:function(t){var e=this,n=Object(O.isArray)(t)?t:[t],i=this.selectedSegments();t instanceof Array?(n.forEach((function(t){e.selectSegment(t)})),i.forEach((function(t){-1===n.indexOf(t.value)&&-1===n.indexOf(t.key)&&e.deselectSegment(t.key)}))):this._groups.length>0&&this._groups.forEach((function(t){}))}},{key:"info",get:function(){return Object.assign(Object.assign({},j()(l()(n.prototype),"info",this)),{valueSegments:this.segmentInfo(!0),filter:this.opts.filter,reload:this.opts.filter&&this.opts.reloadOnChange})}},{key:"isExpanded",get:function(){return this._expanded}},{key:"isFilter",get:function(){return this.opts.filter}}]),n}(st);function dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var pt=function(t){o()(n,t);var e=dt(n);function n(t){var i;return s()(this,n),t=t||{},t=Object(O.extend)({defaultType:"data-item",multiselect:!0},t,{className:t.className?"ui-btn-group ".concat(t.className):"ui-btn-group",ui:{label:".".concat(rt.a.cssPrefix,"ui-btn-group-label"),buttons:".".concat(rt.a.cssPrefix,"ui-btn-group-items")}}),(i=e.call(this,t))._buttons=[],i.setState({expanded:!0}),i}return f()(n,[{key:"buttonForId",value:function(t){var e;return this.buttons.forEach((function(n,i){n.id!==t||Object(O.isset)(e)||(e=n)})),e}},{key:"buttonForKey",value:function(t){var e;return this.buttons.forEach((function(n,i){n.key!==t||Object(O.isset)(e)||(e=n)})),e}},{key:"buttonForValue",value:function(t){var e;return this.buttons.forEach((function(n,i){n.value!==t||Object(O.isset)(e)||(e=n)})),e}},{key:"size",value:function(){var t=j()(l()(n.prototype),"size",this).call(this),e=0;this.ui.label&&(e+=this.ui.label.outerHeight(!0)),this.buttons.forEach((function(t){e+=t.size().height}));var i=this.$el.padding(),s=this.$el.borders();return e+=i.top+i.bottom,e+=s.top+s.bottom,t.height=e,t}},{key:"_render",value:function(t){var e=Object(O.isEmpty)(this.opts.title)?"":'<div class="'.concat(rt.a.cssPrefix,'ui-btn-group-label">').concat(this.opts.title,"</div>");return'\n\t\t\t<div class="awxjs__ui-btn-group">\n\t\t\t\t'.concat(e,'\n\t\t\t\t<div class="').concat(rt.a.cssPrefix,'ui-btn-group-items" data-multiselect="').concat(this.opts.multiselect?1:0,'"></div>\n\t\t\t</div>\n\t\t')}},{key:"_onAddedToDOM",value:function(){var t=this;j()(l()(n.prototype),"_onAddedToDOM",this).call(this),this.opts.buttons&&(this._buttons=(this.opts.buttons||[]).map((function(e){if(e.parent=t.id,e.options=Object.assign(Object.assign({},t.opts.options),e.options),t.opts.controls&&!Object(O.isset)(e.controls)&&(e.controls=Object(O.extend)({},t.opts.controls)),e.segments)return new ht(e);e.type||t.opts.defaultType;return new st(e)}))),this.ui.buttons&&0===this.ui.buttons.children().length&&this.buttons.forEach((function(e){e.addTo(t.ui.buttons)}))}},{key:"_setupEvents",value:function(){var t=this;j()(l()(n.prototype),"_setupEvents",this).call(this),this.buttons.forEach((function(e){e instanceof ht&&e.on("expanded collapsed",(function(e){t.trigger("change:size",e.data)}))})),!1===this.opts.multiselect&&this.buttons.forEach((function(e){e.selected&&(e.disable(!0),t._selectedButton=e),e.on("select",(function(){t._selectedButton&&(t._selectedButton.deselect(),t._selectedButton.disable(!1)),t._selectedButton=e,e.disable(!0),Object(O.isFunction)(t.opts.onChange)&&t.opts.onChange(e.value),t.trigger("change",{value:e.value})}))}))}},{key:"id",get:function(){return it(this.opts.id||this.opts.title)}},{key:"key",get:function(){return this.id}},{key:"buttons",get:function(){return this._buttons}}]),n}(D);function ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var vt=function(t){var e=t,n=(e.type,e.controls);if(n){var i=n.settings;Object(O.isArray)(i)&&Object(O.set)(e,"controls.settings",i.map((function(t){var n;if("opacity"===t.type){var i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=1;return Object(O.isset)(t.opacity)?e=t.opacity:["polyline","polygon"].forEach((function(n){var i=t[n],s=Object(O.isFunction)(i)?i({}):i;s&&(s.fill?e=s.fill.opacity:s.stroke&&(e=s.stroke.opacity))})),e}(null===(n=e.options)||void 0===n?void 0:n.style);Object(O.isset)(i)&&(t.options=Object.assign(Object.assign({},t.options),{value:[100*i]}))}return t})))}return e.buttons?new pt(e):e.segments||e.groups?new ht(e):new st(e)},_t=function(t){o()(n,t);var e=ft(n);function n(t){return s()(this,n),e.call(this,Object(O.extend)({icon:'\n\t\t\t\t<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 80.5">\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<path d="M98.5,51.3l-13.7-7.3L58,58.2c-2.5,1.3-5.2,2-8,2c-2.8,0-5.5-0.7-8-2L15.2,44.1L1.5,51.3C0.6,51.8,0,52.8,0,53.8\n\t\t\t\t\t\t\ts0.6,2,1.5,2.5l43.5,23c3.2,1.7,6.9,1.7,10.1,0l43.5-23c0.9-0.5,1.5-1.4,1.5-2.5S99.4,51.8,98.5,51.3L98.5,51.3z"/>\n\t\t\t\t\t\t<path d="M1.5,29.2l43.5,23c1.6,0.8,3.3,1.2,5,1.2c1.7,0,3.5-0.4,5-1.3l43.5-23c0.9-0.5,1.5-1.4,1.5-2.5c0-1-0.6-2-1.5-2.5L55,1.3\n\t\t\t\t\t\t\tC53.5,0.4,51.7,0,50,0c-1.7,0-3.4,0.4-5,1.3l-43.5,23C0.6,24.7,0,25.7,0,26.7C0,27.8,0.6,28.7,1.5,29.2L1.5,29.2z"/>\n\t\t\t\t\t</g>\n\t\t\t\t</svg>\n\t\t\t'},t))}return f()(n,[{key:"buttonForId",value:function(t){var e;return this.buttons.forEach((function(n,i){Object(O.isset)(e)||(n instanceof pt?e=n.buttonForId(t):n.id!==t||Object(O.isset)(e)||(e=n))})),e}},{key:"buttonForKey",value:function(t){var e;return this.buttons.forEach((function(n,i){Object(O.isset)(e)||(n instanceof pt?e=n.buttonForKey(t):n.key!==t||Object(O.isset)(e)||(e=n))})),e}},{key:"add",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.buttons.length;return this.insertAt(n,t,e)}},{key:"insertAt",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._buttons||(this._buttons=[]);var i=vt(e);return t>=this._buttons.length?(this._buttons.push(i),t=-1):(t=Math.max(0,t),this._buttons.splice(t,0,i)),this._appendButton(i,n,t),this.trigger("button:add",{button:i}),i}},{key:"insertBefore",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this._indexForId(t);return 0===i?this.insertAt(0,e,n):i>0?this.insertAt(i-1,e,n):this.add(e,n)}},{key:"insertAfter",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this._indexForId(t);return i>=0?this.insertAt(i+1,e,n):this.add(e,n)}},{key:"removeAt",value:function(t){if(!(!Object(O.isset)(this._buttons)||t>this._buttons.length-1||t<0)){var e=this.buttons[t];e&&(this._buttons.splice(t,1),e.$el.remove(),this.trigger("button:remove",{button:e}))}}},{key:"removeForId",value:function(t){var e=-1;this.buttons.forEach((function(n,i){n.id===t&&-1===e&&(e=i)})),e>=0&&this.removeAt(e)}},{key:"select",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.handleSelectionState(t,!0,e)}},{key:"deselect",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.handleSelectionState(t,!1,e)}},{key:"set",value:function(t,e){var n=this.buttonForId(t)||this.buttonForKey(t);n&&n instanceof ht&&(n.value=e)}},{key:"handleSelectionState",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=function(t,e){if(t instanceof ht){var n=t.containsId(e),s=t.containsValue(e);i?n&&t.selectSegment(e):n||s?t.selectSegment(e):t.matches(e)&&t.select()}else t instanceof st&&t.matches(e)&&t.select()},a=function(t,e){if(t instanceof ht){var n=t.containsId(e),s=t.containsValue(e);t.matches(e)?t.deselect():i?n&&t.deselectSegment(e):(n||s)&&t.deselectSegment(e)}else t instanceof st&&t.matches(e)&&t.deselect()};Object(O.isArray)(t)?t.filter((function(t){return!Object(O.isEmpty)(t)})).forEach((function(t){return n.handleSelectionState(t,e)})):this.buttons&&this.buttons.forEach((function(n){var i=t;n instanceof pt?n.buttons.forEach((function(t){e?s(t,i):a(t,i)})):(n instanceof st||n instanceof ht)&&(e?s(n,i):a(n,i))}))}},{key:"_onAddedToDOM",value:function(){var t=this;if(this.ui.content.append('<div class="awxjs__app__ui-panel-buttons"></div>'),this.ui.buttons=Object(S.a)(".awxjs__app__ui-panel-buttons",this.$el),this.opts.buttons){var e=[],n=[];this.opts.buttons.forEach((function(t){var i=vt(t);i instanceof pt&&n.push(i),e.push(i)})),this._buttons=e}this.buttons.forEach((function(e){t._appendButton(e)}));var i=function(){0===t.buttons.length?t.hide():t.show()};this.on("button:add button:remove",(function(){i()})),i()}},{key:"_indexForId",value:function(t){var e=-1;return this.buttons.forEach((function(n,i){n.id===t&&-1===e&&(e=i)})),e}},{key:"_appendButton",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(i>=0?t.addTo(this.ui.buttons,!1,i):t.addTo(this.ui.buttons),n)if(t instanceof pt){var s=t;s.buttons.forEach((function(t){e._addButtonEvents(t)}))}else this._addButtonEvents(t)}},{key:"_addButtonEvents",value:function(t){var e=this;t.on("select",(function(n){e.trigger("select",Object.assign({},t.info))})).on("deselect",(function(n){e.trigger("deselect",Object.assign({},t.info))})).on("value:change",(function(n){e.trigger("change",Object.assign(Object.assign({},t.info),n.data))})).on("control:change",(function(n){e.trigger("control:change",Object.assign(Object.assign({},t.info),n.data))})),t instanceof pt?t.on("change:size",(function(t){e.trigger("change:size")})):t instanceof ht&&t.on("expanded",(function(){e.trigger("change:size")})).on("collapsed",(function(){e.trigger("change:size")}))}},{key:"buttons",get:function(){return b()(this._buttons||[])}}]),n}(P),gt=(n("sMBO"),n("YoRi")),mt=n("R1Yn");function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var bt,wt=function(t){o()(n,t);var e=yt(n);function n(t){return s()(this,n),(t=Object(O.extend)({loader:!1},t,{className:t.className?"ui-switch ".concat(t.className):"ui-switch"})).values&&(t.values=t.values.map((function(t){return Object(O.isPlainObject)(t)?t:{label:t,value:t}}))),e.call(this,t)}return f()(n,[{key:"value",get:function(){var t=this,e=this.opts.value,n=this.opts.values;return n&&n.forEach((function(n,i){t.selected&&1===i?e=n.value||n:t.selected||0!==i||(e=n.value||n)})),e}}]),f()(n,[{key:"_render",value:function(t){var e=this.opts,n=e.label,i=e.values,s={left:"",right:""};return i&&i.forEach((function(t,e){var n=0===e?"left":"right",i="";i=Object(O.isPlainObject)(t)?t.label:t,s[n]='<div class="awxjs__ui-switch-label awxjs__ui-switch-label-'.concat(n,'">').concat(i,"</div>")})),'\n\t\t\t<div class="awxjs__ui-switch">\n\t\t\t\t'.concat(n?'<div class="awxjs__ui-switch-label">'.concat(n,"</div>"):"","\n\t\t\t\t").concat(s.left,'\n\t\t\t\t<div class="awxjs__ui-switch__control">\n\t\t\t\t\t<div class="awxjs__ui-switch__control-indicator"></div>\n\t\t\t\t</div>\n\t\t\t\t').concat(s.right,"\n\t\t\t</div>\n\t\t")}}]),n}(st);!function(t){t.snow=function(t){return t>=4?5:t>=3?4:t>=2?3:t>=1?2:t>.1?1:0},t.ice=function(t){return t>=.4?5:t>=.3?4:t>=.2?3:t>=.1?2:t<.1&&t>0?1:0},t.rain=function(t){return t>=1?5:t>=.75?4:t>=.5?3:t>=.25?2:t>=.1?1:0},t.wind=function(t){return t>=50?5:t>=40?4:t>=30?3:t>=20?2:t>10?1:0},t.lightning=function(t){return t>=80?5:t>=60?4:t>=40?3:t>=15?2:t<15&&t>0?1:0},t.convective=function(t){return{high:5,moderate:4,enhanced:3,slight:2,marginal:1,general:.5,none:0}[t]}}(bt||(bt={}));var jt={units:{id:"units",static:!0,renderer:function(t){return'\n\t\t\t<div class="awxjs__app__ui-panel-info__units">\n\t\t\t\t<div class="awxjs__ui-cols align-center justify-between">\n\t\t\t\t\t<div class="label">Units</div>\n\t\t\t\t\t<div class="control"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'},init:function(t,e){var n=new wt({values:[{label:"Imperial",value:"imperial"},{label:"Metric",value:"metric"}]}),i=function(){"metric"===e.units?n.select():n.deselect()};e.on("change:units",(function(t){i()})),n.addTo(t.el(".control")),n.on("select",(function(){e.units="metric"})).on("deselect",(function(){e.units="imperial"})),i()}},place:{id:"place",requiresData:!0,request:function(t,e){return t.api().endpoint("places")},data:function(t){return Object(O.isEmpty)(t)?null:(t=t.places||t).place},renderer:function(t){return'\n\t\t\t<div class="awxjs__app__ui-panel-info__place">\n\t\t\t\t<div class="awxjs__app__ui-panel-info__place-name">'.concat(t.name).concat(Object(O.isEmpty)(t.state)?"":", ".concat(t.state),", ").concat(t.country,"</div>\n\t\t\t</div>\n\t\t")}},obs:{id:"observations",requiresData:!0,request:function(t,e){return t.api().endpoint("conditions")},data:function(t){var e;return Object(O.isEmpty)(t)?null:(null===(e=(t=t.observations||t).conditions)||void 0===e?void 0:e.length)>0?(t.conditions[0]||[]).periods[0]:t.ob},renderer:function(t){var e=Object(O.dateFromISO)(t.dateTimeISO),n="metric"===t.units;return'\n\t\t\t\t<div class="awxjs__app__ui-panel-info__obs">\n\t\t\t\t\t<div class="awxjs__app__ui-panel-info__obs-timestamp">Last updated at '.concat(Object(O.formatDate)(e,n?"HH:mm, MMM d, yyyy":"h:mm a, MMM dd, yyyy"),'</div>\n\t\t\t\t\t<div class="awxjs__ui-cols">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class="awxjs__ui-cols">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class="awxjs__app__ui-panel-info__obs-temp">').concat(Object(gt.a)(t,"tempF","tempC",n)||"N/A",'</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<img class="awxjs__app__ui-panel-info__obs-icon" src="https://cdn.aerisapi.com/wxblox/icons/').concat(t.icon||"na.png",'">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="awxjs__app__ui-panel-info__obs-wx">').concat(t.weatherPrimary,'</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="awxjs__app__ui-panel-info__obs-details">\n\t\t\t\t\t\t\t<div class="awxjs__ui-row">\n\t\t\t\t\t\t\t\t<div>Winds</div>\n\t\t\t\t\t\t\t\t<div>').concat(t.windSpeedMPH>0?"".concat(Object(gt.a)(t,"windSpeedMPH","windSpeedKPH",n)):"Calm",'</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="awxjs__ui-row">\n\t\t\t\t\t\t\t\t<div>Dew Point</div>\n\t\t\t\t\t\t\t\t<div>').concat(Object(gt.a)(t,"dewpointF","dewpointC",n),'</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="awxjs__ui-row">\n\t\t\t\t\t\t\t\t<div>Humidity</div>\n\t\t\t\t\t\t\t\t<div>').concat(Object(gt.a)(t,"humidity"),'</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="awxjs__ui-row">\n\t\t\t\t\t\t\t\t<div>Pressure</div>\n\t\t\t\t\t\t\t\t<div>').concat(Object(gt.a)(t,"pressureIN","pressureMB",n),'</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="awxjs__ui-row">\n\t\t\t\t\t\t\t\t<div>Visibility</div>\n\t\t\t\t\t\t\t\t<div>').concat(Object(gt.a)(t,"visibilityMI","visibilityKM",n),'</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="awxjs__ui-row">\n\t\t\t\t\t\t\t\t<div>Sky Cover</div>\n\t\t\t\t\t\t\t\t<div>').concat(Object(gt.a)(t,"sky"),"</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t")}},forecast:{id:"forecast",requiresData:!0,request:function(t,e){var n="\n\t\t\t\t\ttimestamp,dateTimeISO,tempF,tempC,icon,weatherPrimary,windSpeedMPH,windSpeedKPH,windSpeedMinMPH,windSpeedMinKPH,\n\t\t\t\t\twindSpeedMaxMPH,windSpeedMaxKPH,windGustMPH,windGustKPH,snowIN,snowCM,precipIN,precipMM\n\t\t\t\t".split(",").map((function(t){return"periods.".concat(t)}));return t.api().endpoint("forecasts").fields(n.join(",")).filter("3hr").limit(7)},data:function(t){return Object(O.isEmpty)(t)?null:((t=t.forecasts||t)&&(t[0]&&(t=t[0]),t=t.periods),{periods:t||[]})},renderer:function(t){var e="metric"===t.units;return t.periods.map((function(t){var n=Object(O.dateFromISO)(t.dateTimeISO),i="Calm";return t.windSpeedMaxMPH>5?i=e?"".concat(Object(O.toRangeStr)(t.windSpeedMinKPH,t.windSpeedMaxKPH,5)," ").concat(Object(gt.c)("speed",!0)):"".concat(Object(O.toRangeStr)(t.windSpeedMinMPH,t.windSpeedMaxMPH,5)," ").concat(Object(gt.c)("speed",!1)):t.windSpeedMaxMPH<5&&t.windSpeedMinMPH>0&&(i=e?"< 8 kmh":"< 5 mph"),'\n\t\t\t\t\t<div class="awxjs__app__ui-panel-info__forecast">\n\t\t\t\t\t\t<div class="awxjs__app__ui-panel-info__forecast-period">\n\t\t\t\t\t\t\t<div class="awxjs__ui-cols align-center">\n\t\t\t\t\t\t\t\t<div class="awxjs__app__ui-panel-info__forecast-ts">'.concat(Object(O.formatDate)(n,e?"HH:00":"h a"),'</div>\n\t\t\t\t\t\t\t\t<div><img class="awxjs__app__ui-panel-info__forecast-icon" src="https://cdn.aerisapi.com/wxblox/icons/').concat(t.icon||"na.png",'"></div>\n\t\t\t\t\t\t\t\t<div class="awxjs__app__ui-panel-info__forecast-temp">').concat(Object(gt.a)(t,"tempF","tempC",e),'</div>\n\t\t\t\t\t\t\t\t<div class="awxjs__app__ui-panel-info__forecast-conditions">\n\t\t\t\t\t\t\t\t\t<div class="awxjs__app__ui-panel-info__forecast-wx">').concat(t.weatherPrimary,'</div>\n\t\t\t\t\t\t\t\t\t<div class="awxjs__app__ui-panel-info__forecast-detail"><span>Winds</span> ').concat(i,"</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t")})).join("")}},alerts:{id:"alerts",requiresData:!0,request:function(t,e){return t.api().endpoint("alerts").fields("details.type,details.name,timestamps")},data:function(t){if(Object(O.isEmpty)(t))return null;var e=Object(O.get)(t,"places.profile");return t.alerts&&(t=t.alerts),Object(O.isArray)(t)?t.map((function(t){return Object(O.extend)(t,{profile:e})})):null},renderer:function(t){var e="metric"===t.units,n=t.map((function(t){var n="",i=t.timestamps;if(i){var s=Object(O.get)(t,"profile.tzoffset")?1e3*Object(O.get)(t,"profile.tzoffset"):0,a=6e4*(new Date).getTimezoneOffset()+s,o=Object(O.get)(t,"profile.tzname")||"",r=new Date((new Date).getTime()+a),c=new Date(new Date(1e3*i.begins).getTime()+a),u=new Date(new Date(1e3*i.expires).getTime()+a),l=e?"HH:00 [".concat(o,"], ddd M/d"):"h:mm a '".concat(o,"', EEE M/d");n=c.getTime()<r.getTime()?" until ".concat(Object(O.formatDate)(u,l)):" from ".concat(Object(O.formatDate)(c,l)," until ").concat(Object(O.formatDate)(u,l))}return'\n\t\t\t\t\t<div class="awxjs__app__ui-panel-info__alert">\n\t\t\t\t\t\t<span class="awxjs__app__ui-panel-info__alert-name"><strong>'.concat(Object(k.ucwords)(t.details.name.toLowerCase()),"</strong></span>\n\t\t\t\t\t<br>").concat(n,"</div>\n\t\t\t\t")})).join("");return'<div class="awxjs__app__ui-panel-info__alerts">'.concat(n,"</div>")}},threats:{id:"threats",requiresData:!0,request:function(t,e){return t.api().endpoint("threats").radius("50mi")},data:function(t){return Object(O.get)(t,"threats.0.periods.0.storms")},renderer:function(t){return Object(mt.renderWithFallback)((function(t){return'<div class="awxjs__app__ui-panel-info__threats"><div class="awxjs__app__ui-panel-info__threats-row">'.concat(Object(k.formatDirections)(t.phrase.long),"</div></div>\n\t\t")}),t)}},outlook:{id:"outlook",requiresData:!0,request:function(t,e){return t.api().endpoint("phrases/summary")},data:function(t){return Object(O.get)(t,"phrases_summary.0")},renderer:function(t){return Object(mt.renderWithFallback)((function(t){var e="metric"===t.units;return'<div class="awxjs__app__ui-panel-info__outlook">'.concat(e?Object(O.get)(t,"phrases.longMET"):Object(O.get)(t,"phrases.long"),"</div>")}),t)}},hazards:{id:"hazards",requiresData:!0,config:{lightning:!1},request:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object(O.isset)(e.p)){var i=t.api(),s="\n\t\t\t\t\ttimestamp,dateTimeISO,tempF,tempC,icon,weatherPrimary,windSpeedMPH,windSpeedKPH,windSpeedMinMPH,windSpeedMinKPH,\n\t\t\t\t\twindSpeedMaxMPH,windSpeedMaxKPH,windGustMPH,windGustKPH,snowIN,snowCM,precipIN,precipMM\n\t\t\t\t".split(",").map((function(t){return"periods.".concat(t)}));return i.addRequest(t.api().endpoint("forecasts").fields(s.join(",")).filter("3hr").limit(7)),i.addRequest(t.api().endpoint("observations")),i.addRequest(t.api().endpoint("convective/outlook").action("contains")),n.lightning&&i.addRequest(t.api().endpoint("lightning/summary").action("closest").radius("60mi").limit(100)),i}},data:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Object(O.isEmpty)(t)){var n=Object(O.get)(t,"observations.ob")||{},i=Object(O.get)(t,"forecasts"),s=Object(O.get)(t,"convective_outlook_contains"),a=Object(O.get)(t,"lightning_summary_closest");if(!Object(O.isEmpty)(n)||!Object(O.isEmpty)(i)){var o=[];if(i&&i.length>0){var r=i[0].periods,c=0,u=0,l=0,h=0;n&&n.tempF<=30&&!1===/snow/.test(n.weatherPrimary)&&(h+=n.precipIN),r.forEach((function(t){c+=t.snowIN,l=Math.max(l,t.windGustMPH),t.tempF>=30&&(u+=t.precipIN),t.tempF>=28&&t.tempF<=32&&(h+=t.precipIN)})),o.push({type:"snow",name:"Snow",value:c}),o.push({type:"ice",name:"Ice",value:h}),o.push({type:"rain",name:"Rain",value:u}),o.push({type:"wind",name:"Wind",value:l})}if(s&&s.length>0){var d=s[0].details.risk;o.push({type:"convective",name:"Convective",value:d.type})}else o.push({type:"convective",name:"Convective",value:"none"});if(!0===e.lightning)if(a){var p=Object(O.get)(a[0]||a,"summary.pulse.count");o.push({type:"lightning",name:"Lightning",value:p})}else o.push({type:"lightning",name:"Lightning",value:0});return o}}},renderer:function(t){var e=t.map((function(t){var e,n,i=(e=t.type,n=t.value,("snow"===e?bt.snow(n):"ice"===e?bt.ice(n):"rain"===e?bt.rain(n):"wind"===e?bt.wind(n):"lightning"===e?bt.lightning(n):"convective"===e?bt.convective(n):0)||0),s=Math.round(i/5*1e3)/10,a="".concat(i).replace(/\./g,"p"),o="None";return s>=80?o="Major":s>=60?o="High":s>=40?o="Moderate":s>=20?o="Low":s>0&&(o="Minimal"),'\n\t\t\t\t\t<div class="awxjs__app__ui-panel-info__hazard awxjs__ui-cols align-center">\n\t\t\t\t\t\t<div class="awxjs__app__ui-panel-info__hazard-label">'.concat(t.name,'</div>\n\t\t\t\t\t\t<div class="awxjs__app__ui-panel-info__hazard-bar">\n\t\t\t\t\t\t\t<div class="awxjs__app__ui-panel-info__hazard-bar-inner">\n\t\t\t\t\t\t\t\t<div class="awxjs__app__ui-panel-info__hazard-bar-progress awxjs__app__ui-panel-info__hazard-indice-fill-').concat(a,'" style="width:').concat(s,'%;"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="awxjs__app__ui-panel-info__hazard-value awxjs__app__ui-panel-info__hazard-value-').concat(a,'">').concat(o,"</div>\n\t\t\t\t\t</div>\n\t\t\t\t")}));return'<div class="awxjs__app__ui-panel-info__hazards">'.concat(e.join(""),"</div>")}}};function Ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var kt=function(t){o()(n,t);var e=Ot(n);function n(t,i){if(s()(this,n),t=Object(O.extend)({},t,{className:t.className?"app__ui-panel-info__view ".concat(t.className):"app__ui-panel-info__view"}),Object(O.isString)(t.renderer)){var a=n.getSection(t.renderer);a&&(t=Object(O.extend)({},a,t,{renderer:a.renderer}))}return t.id&&(t.className+=" awxjs__app__ui-panel-info__view-".concat(t.id)),e.call(this,t,i)}return f()(n,[{key:"addToContentView",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=this.opts.init;this.addTo(t.$el,!1,e),n&&Object(O.isFunction)(n)&&n(this,t)}},{key:"_render",value:function(t){var e="",n=this.opts.renderer;if(this.opts.requiresData&&Object(O.isEmpty)(t)&&(n=null),n){var i=Object.keys(jt).reduce((function(t,e){return t[e]=jt[e].renderer,t}),{}),s=this.opts.title?'<div class="awxjs__app__ui-panel-info__view-title">'.concat(this.opts.title,"</div>"):"";if(Object(O.isFunction)(n)){var a=n;e="\n\t\t\t\t\t".concat(s,"\n\t\t\t\t\t").concat(a(t||{},i),"\n\t\t\t\t")}else Object(O.isString)(n)&&(e="\n\t\t\t\t\t".concat(s,"\n\t\t\t\t\t").concat(n,"\n\t\t\t\t"))}return'\n\t\t\t<div class="awxjs__'.concat(this.opts.className,'">').concat(e,"</div>\n\t\t")}},{key:"static",get:function(){return this.opts.static}},{key:"request",get:function(){return this.opts.request}}],[{key:"setSection",value:function(t,e){jt[t]=e}},{key:"getSection",value:function(t){return jt[t]}}]),n}(R);kt.cached=jt;var xt=kt;function St(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var Mt=function(t){o()(n,t);var e=St(n);function n(t,i){var a;return s()(this,n),t=Object(O.extend)({units:"imperial",className:t.className?"app__ui-panel-info__content-view ".concat(t.className):"app__ui-panel-info__content-view"},t),(a=e.call(this,t,i)).units=t.units,Object(O.isArray)(t.views)&&(a._views=[],t.views.forEach((function(t){Object(O.isPlainObject)(t)&&(t=new xt(t));t instanceof xt&&a._views.push(t)}))),a}return f()(n,[{key:"load",value:function(t,e,n){var i=this,s=Object(O.isFunction)(this.opts.request)?this.opts.request(n):this.opts.request;if(!s){var a=[];this._views.forEach((function(n){if(n.request&&Object(O.isFunction)(n.request)){var i=n.request(t,e,n.opts.config);i&&a.push(i)}})),a.length>0&&(s=t.api(),a.forEach((function(t){t.requests&&t.requests.length>0?t.requests.forEach((function(t){return s.addRequest(t)})):s.addRequest(t)})))}s?(e&&s.setParams(e),this.trigger("load:start"),s.get().then((function(t){var e=t.data||{};if(e.responses&&e.responses.length>0){var s={};e.responses.forEach((function(t){var e=t.request.replace(/\?.*$/,"").replace(/^\//,"").replace(/(\/|,)/g,"_");s[e]=t.response})),e=s}e=Object.assign(Object.assign({},e),n),i.update(e),i.trigger("load:done")})).catch((function(t){}))):n&&this.update(n)}},{key:"update",value:function(t){var e=this;j()(l()(n.prototype),"update",this).call(this,t,!1),Object(O.isset)(this.data)&&0!==Object.keys(this.data).length&&this.$el&&this.views&&(this.views.forEach((function(n,i){var s=e._dataForView(n);!1===n.isMounted?e._renderView(n,t,i):!0!==n.static&&n.update(s)})),this._afterRender())}},{key:"_render",value:function(t){return'\n\t\t\t<div class="awxjs__app__ui-panel-info__content-view"></div>\n\t\t'}},{key:"_renderView",value:function(t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=this._dataForView(t);t.update(n),t.addToContentView(this,e)}},{key:"_dataForView",value:function(t){var e=this.data,n=Object(O.isFunction)(t.opts.data)?t.opts.data(Object(O.cloneDeep)(e),t.opts.config):e;return n&&(n.units=this.units),n}},{key:"_afterRender",value:function(){this.$el.parent()&&this.trigger("update")}},{key:"_onAddedToDOM",value:function(){var t=this;j()(l()(n.prototype),"_onAddedToDOM",this).call(this);var e=this.data;this.views&&this.views.forEach((function(n){return t._renderView(n,e)}))}},{key:"views",get:function(){return this._views}},{key:"units",get:function(){return this._units},set:function(t){t!==this._units&&(this._units=t,this.trigger("change:units",{units:t}),this.update())}}]),n}(R);function Rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var Ct=function(t){o()(n,t);var e=Rt(n);function n(t){var i;return s()(this,n),(t=Object(O.extend)({metric:!1,ui:{container:".awxjs__app__ui-panel-info-container",inner:".awxjs__app__ui-panel-info-inner",title:".awxjs__app__ui-panel-info-title",content:".awxjs__app__ui-panel-info-content",close:".awxjs__app__ui-panel-info-close"}},t)).className=Object(O.isset)(t.className)?"app__ui-panel-info ".concat(t.className):"app__ui-panel-info",(i=e.call(this,t))._account=t.account,i._indicator=new T.a,i.setState({visible:!1}),i._content={},i.units=t.metric?"metric":"imperial",t.sections&&Object.keys(t.sections).forEach((function(e){xt.setSection(e,t.sections[e])})),t.views&&Object.keys(t.views).forEach((function(e,n){var s=t.views[e],a=i.setContentView(e,s);a&&0===n&&(i._contentView=a)})),i}return f()(n,[{key:"show",value:function(t,e){return this.setState({visible:!0}),e&&this.update(e),t&&this.setTitle(t),this._updateSize(),this.ui.content.css({opacity:1}),this.trigger("show"),this}},{key:"getContentContainer",value:function(){return this.ui.inner}},{key:"showContent",value:function(t,e,n){var i=this._content[t];return i?(i.units=this.units,i!==this._contentView&&(this.reset(),this._contentView=i),this._contentView.parent()||this._contentView.addTo(this.ui.content),n&&this.update(n),this.trigger("change:content",{key:t}),this.show(e,null)):"[Aeris] Invalid view key '".concat(t,"' requested for InfoPanel. Make sure view has been defined in the InfoPanel 'views' configuration."),this}},{key:"setContentView",value:function(t,e){var n,i=this;return Object(O.isPlainObject)(e)?n=new Mt(e):e instanceof Mt&&(n=e),n&&(n.on("load:start",(function(){i._indicator.startAnimating(),i.ui.content.css({opacity:0}),i.trigger("load:start")})).on("load:done",(function(){i._indicator.stopAnimating(),i.ui.content.css({opacity:1}),i.trigger("load:done")})).on("update",(function(){i._updateSize()})).on("change:units",(function(t){i.units=t.data.units})),this._content[t]=n),n}},{key:"close",value:function(){var t=this;return this._indicator.stopAnimating(),this.setHeight(0),this.ui.content.css({opacity:0}),this.setState({visible:!1}),this.trigger("close"),setTimeout((function(){t.ui.content.empty()}),500),this}},{key:"setTitle",value:function(t){return this.ui.title.html(t),this}},{key:"update",value:function(t){return this._contentView&&this._contentView.update(t),this}},{key:"setWidth",value:function(t){return this.$el.css({"max-width":"".concat(t,"px")}),this}},{key:"setHeight",value:function(t){this.$el.css({"max-height":"".concat(t,"px")});var e=this.ui.inner.bounds();return this._indicator.$el.css({"max-height":"".concat(t-e.top-75,"px")}),this}},{key:"setMetric",value:function(t){this.opts.metric=t,this.units=t?"metric":"imperial"}},{key:"load",value:function(t,e){this._contentView&&this._contentView.load(this._account,t,e)}},{key:"reset",value:function(){this._contentView&&this._contentView.remove(),this.ui.content.empty()}},{key:"_render",value:function(){return'\n\t\t\t<div class="awxjs__app__ui-panel-info">\n\t\t\t\t<div class="awxjs__app__ui-panel-info-top">\n\t\t\t\t\t<div class="awxjs__app__ui-panel-info-title"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="awxjs__app__ui-panel-info-container">\n\t\t\t\t\t<div class="awxjs__app__ui-panel-info-inner">\n\t\t\t\t\t\t<div class="awxjs__app__ui-panel-info-content"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button class="awxjs__app__ui-panel-info-close">\n\t\t\t\t\t'.concat('\n\t<svg width="100pt" height="100pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t<path d="m22.699 77.301c0.80078 0.80078 1.8008 1.1992 2.8008 1.1992s2-0.39844 2.8008-1.1992l21.699-21.602 21.699 21.699c0.80078 0.80078 1.8008 1.1992 2.8008 1.1992s2-0.39844 2.8008-1.1992c1.6016-1.6016 1.6016-4.1016 0-5.6992l-21.602-21.699 21.699-21.699c1.6016-1.6016 1.6016-4.1016 0-5.6992-1.6016-1.6016-4.1016-1.6016-5.6992 0l-21.699 21.699-21.699-21.602c-1.6016-1.6016-4.1016-1.6016-5.6992 0-1.6016 1.6016-1.6016 4.1016 0 5.6992l21.699 21.602-21.602 21.699c-1.5977 1.5-1.5977 4.1016 0 5.6016z"/>\n\t</svg>\n',"\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t")}},{key:"_setupEvents",value:function(){var t=this;j()(l()(n.prototype),"_setupEvents",this).call(this),this._indicator.appendTo(this.ui.inner),this.ui.close.on("click",(function(){t.close()}))}},{key:"_updateSize",value:function(){if(this.visible){var t=this.$el.parent();if(t){var e=t.bounds(!0),n=this.$el.bounds(!0),i=this.ui.inner.bounds(!0),s=n.top-e.top,a=e.height-2*s-100,o=Math.max(175,i.height+(i.top-n.top));a>900&&(a=900),"compact"===Object(x.i)().width?(this.setWidth(e.width-2*n.left),o=.5*e.height):n.width>.3*e.width?this.setWidth(Math.max(300,Math.ceil(.3*e.width))):this.setWidth(400),this.$el.width()<=320?this.$el.addClass("awxjs__app__ui-panel-info-compact"):this.$el.removeClass("awxjs__app__ui-panel-info-compact"),this.setHeight(Math.min(a,o))}}}},{key:"units",get:function(){return this._units},set:function(t){t!==this._units&&(this._units=t,this._contentView&&(this._contentView.units=t),this.trigger("change:units",{units:t}))}}]),n}(P),Dt=n("oU9G"),Et=n.n(Dt),Pt=n("qZya"),Tt=n.n(Pt),$t=n("8ABf"),zt=n.n($t);n("JevA");function At(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var It=function(t){o()(n,t);var e=At(n);function n(t){var i;return s()(this,n),t=Object(O.extend)({range:{min:0,max:1},ticks:!0,ui:{range:".awxjs__ui-slider-span-inner",past:".awxjs__ui-slider-span-past",future:".awxjs__ui-slider-span-future",ticks:".awxjs__ui-slider-ticks",indicator:".awxjs__ui-slider-indicator"}},t,{className:Object(O.get)(t,"className")?"ui-slider ".concat(t.className):"ui-slider"}),(i=e.call(this,t)).setState({dragging:!1}),i._mouse={x:0,y:0},i}return f()(n,[{key:"indicatorSize",value:function(){return{height:this.ui.indicator.outerHeight(!0),width:this.ui.indicator.outerWidth(!0)}}},{key:"value",value:function(t){return Object(O.isset)(this._x)?(Object(O.isset)(t)&&!Number.isNaN(t)||(t=this.position()),t*((this.opts.range.max-this.opts.range.min)/(this._x.max-this._x.min))):null}},{key:"setValue",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setPosition(t/this._increment(),e)}},{key:"position",value:function(){var t=this.ui.indicator.css("left");return!Object(O.isEmpty)(t)&&Object(O.isset)(t)||(t="0px"),Number.parseInt(t.replace(/[^0-9\.-]/g,""),10)}},{key:"setPosition",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!1===Number.isNaN(t)&&(t=Math.max(Math.min(t,this._x.max),0),this.ui.indicator.css("left","".concat(t,"px")),e&&this.trigger("change",{value:this.value(),position:this.position(),progress:this.progress()}))}},{key:"progress",value:function(){var t=this._x.max-this._x.min;return(this.position()-this._x.min)/t}},{key:"setProgress",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._x.max-this._x.min,i=Math.round(this._x.min+n*t);i!==this.position()&&this.setPosition(i,e)}},{key:"setDateRange",value:function(t,e){var n=(new Date).getTime(),i=e.getTime()-t.getTime(),s=1,a=0;e.getTime()>n&&(t.getTime()>n?(s=0,a=1):(s=(n-t.getTime())/i,a=(e.getTime()-n)/i)),s>0?(s=Math.min(100,Math.round(100*s*100)/100),this.ui.past.css({width:"".concat(s,"%")}).show()):this.ui.past.hide(),a>0?(a=Math.min(100,Math.round(100*a*100)/100),this.ui.future.css({width:"".concat(a,"%")}).show()):this.ui.future.hide()}},{key:"setTicks",value:function(t){var e=this;if(!0===this.opts.ticks&&this.ui.ticks){var n=this.indicatorSize(),i=n.width/2,s=this.$el.width()-n.width;this.ui.ticks.css({left:"".concat(i,"px"),width:"".concat(s,"px")}),this.ui.ticks.empty(),Object.keys(t).sort().forEach((function(n){var i=100*parseFloat(n);e.ui.ticks.append('\n\t\t\t\t\t<div class="awxjs__ui-slider-tick" style="left:'.concat(i,'%;">\n\t\t\t\t\t\t<div class="awxjs__ui-slider-tick-label">').concat(t[n],"</div>\n\t\t\t\t\t</div>\n\t\t\t\t"))}))}}},{key:"_render",value:function(){return'\n\t\t\t<div class="awxjs__ui-slider">\n\t\t\t\t<div class="awxjs__ui-slider-span">\n\t\t\t\t\t<div class="awxjs__ui-slider-span-inner">\n\t\t\t\t\t\t<div class="awxjs__ui-slider-span-item awxjs__ui-slider-span-past"></div>\n\t\t\t\t\t\t<div class="awxjs__ui-slider-span-item awxjs__ui-slider-span-future"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="awxjs__ui-slider-ticks"></div>\n\t\t\t\t<div class="awxjs__ui-slider-indicator"></div>\n\t\t\t</div>\n\t\t'}},{key:"_layout",value:function(){var t=Object(O.isset)(this._x)?this.progress():0;if(this._x={min:0,max:this.$el.width()-this.ui.indicator.outerWidth(!0)},this.setProgress(t),this.ui.range){var e=this.indicatorSize().width/2,n=this._x.max-this._x.min;this.ui.range.css({left:"".concat(e,"px"),width:"".concat(n,"px")})}}},{key:"_setupEvents",value:function(){var t=this,e=function(e){t._handleDrag(e)},n=function n(i){Object(S.a)(document).off("mousemove touchmove",e),Object(S.a)(document).off("mouseup touchend",n),t.setState({dragging:!1}),t.ui.indicator.removeClass("is-dragging"),t.trigger("slide:stop",{mouse:t._mouse})};this.ui.indicator.on("mousedown touchstart",(function(i){i.preventDefault(),t.setState({dragging:!0}),t._mouse.x=i.pageX,t._mouse.y=i.pageY,t.ui.indicator.addClass("is-dragging"),t.trigger("slide:start",{mouse:t._mouse}),Object(S.a)(document).on("mousemove touchmove",e),Object(S.a)(document).on("mouseup touchend",n)})),this.ui.ticks.on("click",(function(e){var n=e.layerX;if(e.target!==t.ui.ticks[0]){var i=t.ui.ticks.bounds();n=e.x-i.left}var s=n/t.ui.ticks.width();t.setProgress(s)}))}},{key:"_increment",value:function(){return(this._x.max-this._x.min)/(this.opts.range.max-this.opts.range.min)}},{key:"_handleDrag",value:function(t){if(this.state.dragging){var e=t.pageX-this._mouse.x,n=this.position();if(0===e)return;n+=e,this.setPosition(n,!0),this._mouse.x=t.pageX,this._mouse.y=t.pageY}}},{key:"dragging",get:function(){return this.state.dragging}}]),n}(D);function Nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var Ft=function(t){o()(n,t);var e=Nt(n);function n(t,i){var a;return s()(this,n),i=Object(O.extend)({className:Object(O.get)(i,"className")?"ui-timeline ".concat(i.className):"ui-timeline",ui:{periods:".awxjs__ui-timeline__periods"},formatters:{time:"h:mm",date:"M/d",day:"EEE",dateFull:"EEE MMM d"}},i),(a=e.call(this,i))._slider=new It(i.slider),a._animation=t,a}return f()(n,[{key:"setPosition",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._slider.setPosition(t,e)}},{key:"setProgress",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._slider.setProgress(t,e)}},{key:"setFormatters",value:function(t){this.opts.formatters=Object(O.extend)({},this.opts.formatters,t),this._layout()}},{key:"_render",value:function(){return'\n\t\t\t<div class="awxjs__ui-timeline">\n\t\t\t\t<div class="awxjs__ui-timeline__periods"></div>\n\t\t\t</div>\n\t\t'}},{key:"_layout",value:function(){var t=this._animation.startDate(),e=this._animation.endDate();this._layoutPeriods(t,e),this._setupSliderTicks(t,e)}},{key:"_onAddedToDOM",value:function(){this._slider.addTo(this.$el),this._animation&&(this._handleDateRangeChange(this._animation.startDate(),this._animation.endDate()),this._updateForTime(this._animation.currentTime))}},{key:"_setupEvents",value:function(){var t=this,e=this._animation,n=this._slider;e&&e.on("start:change end:change",(function(e){var n=e.data,i=n.from,s=n.to;i&&s&&t._handleDateRangeChange(i,s)})).on("advance",(function(n){t._updateForTime(e.currentTime)})),n&&(this._sliderChangeHandler||(this._sliderChangeHandler=Object(O.debounce)((function(t){var n=e.endDate().getTime()-e.startDate().getTime(),i=Math.round(e.startDate().getTime()+n*t.data.progress);e.stop(),e.goToTime(i)}),250)),n.on("change",(function(n){e.pause(),t._sliderChangeHandler(n)})))}},{key:"_updateForTime",value:function(t){var e=this._animation;if(e){var n=e.endDate().getTime()-e.startDate().getTime(),i=e.currentOffset/n;this.setProgress(i,!1)}}},{key:"_handleDateRangeChange",value:function(t,e){this._layout(),this._slider.setDateRange(t,e)}},{key:"_layoutPeriods",value:function(t,e){var n=e.getTime()-t.getTime(),i=this.ui.periods,s=i.width(),a=0;if(this._slider){var o=this._slider.indicatorSize();s-=o.width,a=o.width/2}var r=this.opts.formatters;if(i.empty(),t.getDate()!==e.getDate()||t.getMonth()!==e.getMonth())for(var c,u,l=0,h=Et()(t).getTime(),d=0,p=0,f=new Date(t.getFullYear(),t.getMonth(),t.getDate()),v=new Date(e.getFullYear(),e.getMonth(),e.getDate()),_=Math.round((v.getTime()-f.getTime())/864e5);h<e.getTime();){var g=new Date(h),m=g.toString().replace(/^[^\(]+/,"").replace(/[^a-zA-Z]/g,"");if(!Object(O.isEmpty)(m)){var y=/^(\wDT|\w+DaylightTime)/.test(m);if(Object(O.isset)(u)&&y!==u){var b=36e5*(u&&!y?1:-1);u=y,h+=b,g=new Date(h)}u=y}var w=1;if(zt()(Et()(g),Et()(t)))w=(Et()(Tt()(g,1)).getTime()-t.getTime())/n;else if(zt()(Et()(g),Et()(e)))w=1-l;else{var j=Et()(g);w=(Tt()(g,1).getTime()-j.getTime())/n}w=Math.min(1,Math.max(w,0));var k=_>=10?r.date:r.day,x=w*s<100?k:r.dateFull,S=Object(O.formatDate)(g,x),M=Math.round(100*w*100);d+=M=Math.min(w*s,s),0===p||p===_||p>0&&d>=40?(i.append('<div class="awxjs__ui-timeline__periods-item" style="left:'.concat(a,"px;width:").concat(d,'px;"><span>').concat(d>=30?c||S:"&nbsp;","</span></div>")),a+=d,d=0,c=void 0):Object(O.isset)(c)||(c=S),h+=864e5,l+=w,M,p+=1}else{var R=Object(O.formatDate)(e,r.dateFull);i.append('<div class="awxjs__ui-timeline__periods-item" style="left:'.concat(a,"px;width:").concat(s,'px;"><span>').concat(R,"</span></div>"))}}},{key:"_setupSliderTicks",value:function(t,e){var n=e.getTime()-t.getTime(),i={second:1e3,minute:6e4,hour:36e5,day:864e5};i.minute5=5*i.minute,i.minute10=10*i.minute,i.minute15=15*i.minute,i.minute30=30*i.minute,i.hour2=2*i.hour,i.hour3=3*i.hour,i.hour6=6*i.hour,i.hour12=12*i.hour,i.day2=2*i.day,i.day3=3*i.day,i.day7=7*i.day,i.month=30*i.day,i.year=365*i.day,i.decade=10*i.year;var s=this.ui.periods.width();if(this._slider){var a=this._slider.indicatorSize();s-=a.width}var o,r;if(this._slider){var c=t.getTime(),u=e.getTime(),l=(o=u-c,r=0,Object.keys(i).map((function(t){return i[t]})).sort((function(t,e){return t-e})).forEach((function(t){s/(o/t)>=40&&0===r&&(r=t)})),r),h=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime(),d=!1;h%l!=0&&l%i.day==0&&(h+=i.day,d=!0),d&&(l=i.day);for(var p={};h<=u;){h>=c&&(p[(h-c)/n]=d?"":Object(O.formatDate)(new Date(h),this.opts.formatters.time||"h:mm")),h+=l}this._slider.setTicks(p)}}},{key:"slider",get:function(){return this._slider}}]),n}(R);function Ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var Lt=function(t){o()(n,t);var e=Ht(n);function n(t,i){var a;s()(this,n),(a=e.call(this,Object(O.extend)({className:"app__ui-panel-timeline".concat(Object(O.isEmpty)(i.className)?"":" ".concat(i.className)),range:{},formatters:{time:"h:mm a",day:"EEE, MMM d"},ui:{left:".awxjs__app__ui-panel-timeline-left",center:".awxjs__app__ui-panel-timeline-center",right:".awxjs__app__ui-panel-timeline-right",controls:".awxjs__app__ui-panel-timeline-center",timeline:".awxjs__app__ui-panel-timeline-right",play:".awxjs__ui-btn-play",now:".awxjs__ui-btn-now",time:".awxjs__app__ui-panel-timeline-daytime",settings:".awxjs__ui-btn-settings"},icon:'\n\t\t\t\t<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 96.3 85.4">\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<path d="M75.2,39.9h9.4v5.2h-9.4L75.2,39.9z"/>\n\t\t\t\t\t\t<path d="M49,64.9h5.2v9.4H49V64.9z"/>\n\t\t\t\t\t\t<path d="M65.5,24.9l6.6-6.6l3.7,3.7l-6.6,6.6L65.5,24.9z"/>\n\t\t\t\t\t\t<path d="M69.2,56.5l6.6,6.6l-3.7,3.7l-6.6-6.6L69.2,56.5z"/>\n\t\t\t\t\t\t<path d="M36.6,56.7l12.4-12.4l0-25.1h8v28.3c-0.6,0.6-14.8,14.9-14.8,14.9L36.6,56.7z"/>\n\t\t\t\t\t\t<path d="M53.6,0v7.5c19.4,0,35.2,15.8,35.2,35.2c0,19.4-15.8,35.2-35.2,35.2c-17.8,0-32.6-13.3-34.9-30.5l5.4,5.3l5.3-5.3\n\t\t\t\t\t\t\tL14.7,32.7L0,47.4l5.3,5.3l5.8-5.8c2.1,21.6,20.4,38.5,42.5,38.5c23.5,0,42.7-19.2,42.7-42.7S77.1,0,53.6,0L53.6,0z"/>\n\t\t\t\t\t</g>\n\t\t\t\t</svg>\n\t\t\t'},i)))._activityCount=0;var o=Object(O.get)(i,"range.marks"),r=Object(x.i)();return a._animation=t,a._timeline=new Ft(t),a._indicator=new T.a({size:30,strokeWidth:2}),a._slider=new G(Object(O.extend)({title:"Time Range <span>(hours)</span>",width:"compact"===r.width?200:300,value:[-6,0],range:{min:-24,max:24},marksEvery:Object(O.get)(i,"range.marksEvery")||"% 12",marks:o||{0:"Now"},step:"compact"===r.width?6:2,tooltip:function(t){return 0===t?"Now":"".concat(t>0?"+":"").concat(t," hours")}},a.opts.range)),a}return f()(n,[{key:"close",value:function(){j()(l()(n.prototype),"close",this).call(this),this._tooltip&&this._tooltip.hide()}},{key:"setFormatters",value:function(t){this.opts.formatters=Object(O.extend)({},this.opts.formatters,t),Object(O.isset)(this._time)&&this._setTime(this._time),this._timeline.setFormatters({time:this.opts.formatters.time})}},{key:"setSize",value:function(t,e){var n=this.ui.content.padding(),i=this.ui.left.outerWidth(!0),s=this.ui.center.outerWidth(!0),a=(this.ui.right.outerWidth(!0),t);a-=n.left+n.right,a-=i+s;var o=this._timeline.$el.margins();a-=o.left+o.right,a-=20,a=Math.floor(a),this._timeline.size().width!==a&&(a<200?(this.ui.settings.hide(),this._timeline.hide()):(this.ui.settings.show(),this._timeline.show(),this._timeline.setSize(a,0)))}},{key:"showLoading",value:function(t){var e=t?1:-1;this._activityCount=Math.max(0,this._activityCount+e),this._activityCount>0?this._indicator.startAnimating():this._indicator.stopAnimating()}},{key:"_render",value:function(){return'\n\t\t\t<div class="awxjs__app__ui-panel-timeline">\n\t\t\t\t<div class="awxjs__app__ui-panel-container">\n\t\t\t\t\t<div class="awxjs__app__ui-panel-toolbar">\n\t\t\t\t\t\t'.concat(this.opts.title?'<div class="awxjs__app__ui-panel-title">'.concat(this.opts.title,"</div>"):"",'\n\t\t\t\t\t\t<button class="awxjs__app__ui-panel-close">\n\t\t\t\t\t\t\t<svg version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<path d="m22.699 77.301c0.80078 0.80078 1.8008 1.1992 2.8008 1.1992s2-0.39844 2.8008-1.1992l21.699-21.602 21.699 21.699c0.80078 0.80078 1.8008 1.1992 2.8008 1.1992s2-0.39844 2.8008-1.1992c1.6016-1.6016 1.6016-4.1016 0-5.6992l-21.602-21.699 21.699-21.699c1.6016-1.6016 1.6016-4.1016 0-5.6992-1.6016-1.6016-4.1016-1.6016-5.6992 0l-21.699 21.699-21.699-21.602c-1.6016-1.6016-4.1016-1.6016-5.6992 0-1.6016 1.6016-1.6016 4.1016 0 5.6992l21.699 21.602-21.602 21.699c-1.5977 1.5-1.5977 4.1016 0 5.6016z"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="awxjs__app__ui-panel-content">\n\t\t\t\t\t\t<div class="awxjs__ui-cols align-center">\n\t\t\t\t\t\t\t<div class="awxjs__app__ui-panel-timeline-left">\n\t\t\t\t\t\t\t\t<div class="awxjs__app__ui-panel-timeline-daytime"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="awxjs__app__ui-panel-timeline-center">\n\t\t\t\t\t\t\t\t<div class="awxjs__app__ui-panel-timeline-controls awxjs__ui-row align-center">\n\t\t\t\t\t\t\t\t\t<button class="awxjs__ui-btn awxjs__ui-btn-icon awxjs__ui-btn-play">\n\t\t\t\t\t\t\t\t\t\t<svg width="100pt" height="100pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t\t\t\t<path transform="scale(.3003)" d="m260 166.99l-93.006 54.008-93.994 52.994v-214.99l93.994 53.995zm0 0" fill-rule="evenodd" />\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button class="awxjs__ui-btn awxjs__ui-btn-now">Now</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="awxjs__app__ui-panel-timeline-right"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="awxjs__ui-btn-icon awxjs__ui-btn-settings">\n\t\t\t\t\t\t\t<svg version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<path d="m94.801 40.801-10.602-1.8008c-0.60156-1.8984-1.3984-3.6992-2.3008-5.5l6.1992-8.6992c0.89844-1.3008 0.80078-3.1016-0.30078-4.1992l-8.5-8.5c-1.1016-1.1016-2.8984-1.3008-4.1992-0.30078l-8.6992 6.1992c-1.6992-0.89844-3.6016-1.6992-5.5-2.3008l-1.6992-10.5c-0.30078-1.6016-1.6016-2.6992-3.1992-2.6992h-12c-1.6016 0-2.8984 1.1016-3.1992 2.6992l-1.8008 10.602c-1.8984 0.60156-3.6992 1.3984-5.5 2.3008l-8.6992-6.1992c-1.3008-0.89844-3.1016-0.80078-4.1992 0.30078l-8.5 8.5c-1.1016 1.1016-1.3008 2.8984-0.30078 4.1992l6.1992 8.6992c-0.89844 1.6992-1.6992 3.6016-2.3008 5.5l-10.5 1.6992c-1.6016 0.30078-2.6992 1.6016-2.6992 3.1992v12c0 1.6016 1.1016 2.8984 2.6992 3.1992l10.602 1.8008c0.60156 1.8984 1.3984 3.6992 2.3008 5.5l-6.1992 8.6992c-0.89844 1.3008-0.80078 3.1016 0.30078 4.1992l8.5 8.5c1.1016 1.1016 2.8984 1.3008 4.1992 0.30078l8.6992-6.1992c1.6992 0.89844 3.6016 1.6992 5.5 2.3008l1.8008 10.602c0.30078 1.6016 1.6016 2.6992 3.1992 2.6992h12c1.6016 0 2.8984-1.1016 3.1992-2.6992l1.6992-10.703c1.8984-0.60156 3.6992-1.3984 5.5-2.3008l8.6992 6.1992c1.3008 0.89844 3.1016 0.80078 4.1992-0.30078l8.5-8.5c1.1016-1.1016 1.3008-2.8984 0.30078-4.1992l-6.1992-8.6992c0.89844-1.6992 1.6992-3.6016 2.3008-5.5l10.602-1.8008c1.6016-0.30078 2.6992-1.6016 2.6992-3.1992v-11.898c-0.10156-1.6016-1.2031-2.8984-2.8008-3.1992zm-44.801 26.301c-9.5 0-17.102-7.6992-17.102-17.102 0-9.5 7.6992-17.102 17.102-17.102 9.3984 0 17.102 7.6016 17.102 17.102s-7.6016 17.102-17.102 17.102z"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="awxjs__app__ui-panel-toggle">').concat(this.opts.icon,"</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t")}},{key:"_onAddedToDOM",value:function(){j()(l()(n.prototype),"_onAddedToDOM",this).call(this),this._timeline.addTo(this.ui.timeline),this._indicator.appendTo(this.ui.timeline),this._setTime(this._animation.currentTime)}},{key:"_setupEvents",value:function(){var t=this;j()(l()(n.prototype),"_setupEvents",this).call(this),this._animation.on("load:start play",(function(){t.ui.play.html('\n\t\t\t\t<svg width="100pt" height="100pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t<path d="m76.5 15h-53c-4.6875 0-8.5 3.8125-8.5 8.5v53c0 4.6875 3.8125 8.5 8.5 8.5h53c4.6875 0 8.5-3.8125 8.5-8.5v-53c0-4.6875-3.8125-8.5-8.5-8.5z"/>\n\t\t\t\t</svg>\n\t\t\t')})).on("stop",(function(){t.ui.play.html('\n\t\t\t\t<svg width="100pt" height="100pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t<path transform="scale(.3003)" d="m260 166.99l-93.006 54.008-93.994 52.994v-214.99l93.994 53.995zm0 0" fill-rule="evenodd" />\n\t\t\t\t</svg>\n\t\t\t')})).on("advance",(function(e){var n=e.data.time;n&&t._setTime(n)})).on("start:change end:change",(function(){t._slider.value=[t._animation.startOffset()/36e5,t._animation.endOffset()/36e5],t.trigger("change:range",{start:t._animation.startDate(),end:t._animation.endDate()})})),this._indicator&&this._animation.on("load:start",(function(){t.showLoading(!0)})).on("load:done",(function(){t.showLoading(!1)})),this._timeline.slider.on("change",(function(e){var n=e.data.progress;if(Object(O.isset)(n)){var i=t._animation,s=i.endDate().getTime()-i.startDate().getTime(),a=Math.round(i.startDate().getTime()+s*n);t._setTime(a)}})),this._slider.on("change:end",(function(e){var n=d()(e.data.value,2),i=n[0],s=n[1];t._animation.setStartOffset(3600*i*1e3),t._animation.setEndOffset(3600*s*1e3)})),this.ui.play.on("click",(function(){t._animation.isAnimating()||t._animation.isLoading()?t._animation.stop():t._animation.play()})),this.ui.now.on("click",(function(){t._animation.goToInit()})),this.ui.settings&&this.ui.settings.on("click",(function(){if(!t._tooltip){t._slider.initialize();var e=new V(t._slider.$el,{showClose:!0});e.attachTo(t.ui.settings),t._tooltip=e}t._tooltip.visible?t._tooltip.hide():t._tooltip.show()}))}},{key:"_setTime",value:function(t){if(this._time=t,this.ui.time){var e=new Date(t);this.ui.time.html('\n\t\t\t<div class="awxjs__app__ui-panel-timeline-time">'.concat(Object(O.formatDate)(e,this.opts.formatters.time),'</div>\n\t\t\t<div class="awxjs__app__ui-panel-timeline-day">').concat(Object(O.formatDate)(e,this.opts.formatters.day),"</div>\n\t\t"))}}}]),n}(P),Vt=n("CVtS"),Bt=function(){var t=document.createElement("div");t.style.height="100px",t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.width="100px",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e};function qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var Wt=function(t){o()(n,t);var e=qt(n);function n(t){s()(this,n),(t=Object(O.extend)({legend:{size:{width:300,height:0}},icon:'\n\t\t\t\t<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 90 90">\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<path d="M45,9c19.9,0,36,16.1,36,36S64.9,81,45,81S9,64.9,9,45C9,25.1,25.1,9,45,9 M45,0C20.1,0,0,20.1,0,45s20.1,45,45,45\n\t\t\t\t\t\t\ts45-20.1,45-45C90,20.1,69.9,0,45,0z"/>\n\t\t\t\t\t\t<path d="M48.7,29.3c0,1-0.4,1.9-1.1,2.7c-0.7,0.7-1.6,1.1-2.6,1.1c-0.5,0-0.9-0.1-1.4-0.3c-0.4-0.2-0.8-0.5-1.2-0.8\n\t\t\t\t\t\t\tc-0.3-0.3-0.6-0.7-0.8-1.2c-0.2-0.5-0.3-0.9-0.3-1.5c0-0.5,0.1-0.9,0.3-1.3c0.2-0.4,0.5-0.8,0.8-1.2c0.3-0.3,0.7-0.6,1.2-0.8\n\t\t\t\t\t\t\tc0.4-0.2,0.9-0.3,1.4-0.3s0.9,0.1,1.4,0.3c0.4,0.2,0.8,0.5,1.2,0.8c0.4,0.3,0.6,0.7,0.8,1.1C48.6,28.3,48.7,28.8,48.7,29.3\n\t\t\t\t\t\t\tL48.7,29.3z M48.3,59.8c0,1.1-0.3,2-0.9,2.6c-0.6,0.7-1.4,1-2.4,1s-1.8-0.3-2.4-1c-0.6-0.7-0.9-1.5-0.9-2.6v-18\n\t\t\t\t\t\t\tc0-1.1,0.3-2,0.9-2.6c0.6-0.7,1.4-1,2.4-1s1.8,0.3,2.4,1c0.6,0.7,0.9,1.5,0.9,2.6V59.8z"/>\n\t\t\t\t\t</g>\n\t\t\t\t</svg>\n\t\t\t'},t)).className=Object(O.isset)(t.className)?"app__ui-panel-legends ".concat(t.className):"app__ui-panel-legends";var i=Object(O.get)(t,"legend.size");return i&&Object(O.set)(t,"legend.size.width",Math.min(i.width,(document&&window?{width:Math.max(document.documentElement.clientWidth,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}:null).width)),e.call(this,t)}return f()(n,[{key:"open",value:function(){0!==this._legendView.count&&j()(l()(n.prototype),"open",this).call(this)}},{key:"contentSize",value:function(){var t=j()(l()(n.prototype),"contentSize",this).call(this),e=this._legendView.getSize(),i=this.getContentContainer();t.height=Math.min(e.height,i.outerHeight(!0));var s=i.padding();return t.height+=s.top+s.bottom,t}},{key:"_onAddedToDOM",value:function(){j()(l()(n.prototype),"_onAddedToDOM",this).call(this),this.$el.addClass("awxjs__app__ui-panel-legends"),this._legendView||(this._legendView=new Vt.a(this.ui.content,Object(O.extend)({styles:{label:{color:"#ffffff"}}},this.opts.legend))),0===this._legendView.count&&this.hide()}},{key:"_setupEvents",value:function(){var t=this;j()(l()(n.prototype),"_setupEvents",this).call(this),this._legendView.on("add remove",(function(e){0===e.data.count?(t.close(),t.hide()):t.show()})).on("resize",(function(e){t._layout()}))}},{key:"legend",get:function(){return this._legendView}}]),n}(P);n("5s+n"),n("TWNs");function Kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var Ut=function(t){o()(n,t);var e=Kt(n);function n(t){var i;return s()(this,n),t=t||{},(t=Object(O.extend)({placeholder:"Search",autocomplete:!0,autoselect:!0,ui:{form:".awxjs__ui-searchfield-form > form",input:".awxjs__ui-searchfield-form input",submit:".awxjs__ui-searchfield-form button",results:".awxjs__ui-searchfield-results"}},t,{className:t.className?"ui-searchfield ".concat(t.className):"ui-searchfield"})).id=t.id||t.value,(i=e.call(this,t))._selectedIndex=-1,i._indicator=new T.a({size:30,strokeWidth:2}),i}return f()(n,[{key:"setResults",value:function(t){this.clear(),Object(O.isArray)(t)||(t=[t]),this._results=Object(O.cloneDeep)(t),this._renderResults(t)}},{key:"reset",value:function(){this.clear(),this.ui.input.val(""),this.ui.results.hide(),Object(S.a)(document).off("click",this._docHandler)}},{key:"clear",value:function(){this.ui.results.empty(),this._results=null,this._selectedIndex=-1,this.$el.removeClass("awxjs__ui-searchfield-expanded")}},{key:"focus",value:function(){this.ui.input.focus()}},{key:"blur",value:function(){this.ui.input.blur()}},{key:"_render",value:function(t){return'\n\t\t\t<div class="awxjs__ui-searchfield">\n\t\t\t\t<div class="awxjs__ui-searchfield-container">\n\t\t\t\t\t<div class="awxjs__ui-searchfield-form">\n\t\t\t\t\t\t<form method="POST">\n\t\t\t\t\t\t\t<input type="text" value="" placeholder="'.concat(this.opts.placeholder,'">\n\t\t\t\t\t\t\t<button>\n\t\t\t\t\t\t\t\t<svg version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t\t<path d="m69.777 61.273 26.562 26.562c4.25 4.3672-4.1328 12.75-8.5 8.5l-26.562-26.562c-14.641 10.508-35.066 8.9727-47.934-3.8945-14.523-14.523-14.523-38.016 0-52.539 14.523-14.523 38.016-14.523 52.539 0 12.867 12.867 14.402 33.293 3.8945 47.934zm-48.051-39.551c-9.8008 9.918-9.8008 25.855 0 35.656 9.918 9.918 25.855 9.918 35.656 0 9.918-9.8008 9.918-25.738 0-35.656-9.8008-9.8008-25.738-9.8008-35.656 0z" fill-rule="evenodd"/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="awxjs__ui-searchfield-results"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t')}},{key:"_onAddedToDOM",value:function(){j()(l()(n.prototype),"_onAddedToDOM",this).call(this),this._indicator.appendTo(this.ui.form)}},{key:"_setupEvents",value:function(){var t=this;j()(l()(n.prototype),"_setupEvents",this).call(this);var e=this.ui.input,i=Object(O.debounce)((function(){var n=e.val();t.trigger("change:value",{value:n}),n.length>3?t._search(e.val()):0===n.length?t.reset():t._renderResults([])}),300);this._docHandler=function(e){t._handleDocClick(e)},this._keyHandler=function(e){t._listenForKeys(e)},this.opts.autocomplete?e.on("input",i):e.on("input",(function(n){(""===e.val()||t._results&&t._results.length>0)&&t.reset()})),this.ui.form.on("submit",(function(n){return n.preventDefault(),t._search(e.val()),t.trigger("submit",{value:e.val()}),!1})),this.ui.submit.on("click",(function(n){n.preventDefault();var i=e.val();Object(O.isEmpty)(i)||(t._search(i),t.trigger("submit",{value:i}))})),e.on("focus",(function(e){t.$el.addClass("awxjs__ui-searchfield-focused"),Object(S.a)(document).off("keyup keypress",t._keyHandler),Object(S.a)(document).on("keyup keypress",t._keyHandler),Object(S.a)(document).off("click",t._docHandler),Object(S.a)(document).on("click",t._docHandler)})),e.on("blur",(function(e){t.$el.removeClass("awxjs__ui-searchfield-focused"),Object(S.a)(document).off("keyup keypress",t._keyHandler)}))}},{key:"_search",value:function(t){var e=this,n=Object(O.get)(this.opts,"data.request");n&&Object(O.isFunction)(n)&&(this._indicator.startAnimating(),n(t).then((function(t){e._indicator.stopAnimating(),e.setResults(t)})))}},{key:"_renderResults",value:function(t){var e=this;if(this.trigger("update:results",t),t){if(0===t.length)return this.ui.results.hide(),void this.$el.removeClass("awxjs__ui-searchfield-expanded");var n=Object(O.get)(this.opts,"data.formatter"),i=t.map((function(t,e){return'<li data-result="'.concat(e,'">').concat(n(t),"</li>")}));this.ui.results.html("<ul>".concat(i.join(""),"</ul>")),this.$el.addClass("awxjs__ui-searchfield-expanded"),Object(S.a)("li",this.ui.results).on("click",(function(t){e._handleResultClick(t)})).on("mouseover",(function(t){e._handleResultMouseover(t)})),this.ui.results.show(),i.length>0&&this.opts.autoselect&&this._selectResultAtIndex(0)}else this.reset()}},{key:"_handleResultMouseover",value:function(t){var e=Object(S.a)(t.target),n=parseInt(e.data("result"),10);this._selectResultAtIndex(n)}},{key:"_handleResultClick",value:function(t){var e=Object(S.a)(t.target),n=parseInt(e.data("result"),10);this.trigger("select",{result:Object(O.cloneDeep)(this._results[n]),index:n}),this.reset()}},{key:"_selectResultAtIndex",value:function(t){if(t!==this._selectedIndex){var e=Object(S.a)("li",this.ui.results);e.removeClass("selected"),t>=0&&e.eq(t).addClass("selected"),this._selectedIndex=t}}},{key:"_handleDocClick",value:function(t){var e=Object(S.a)(t.target).closest(".awxjs__ui-searchfield-container");e&&0!==e.length||this.reset()}},{key:"_listenForKeys",value:function(t){var e=(t.key||"").toLowerCase();if("keypress"===t.type)"enter"!==e&&13!==t.keyCode||(t.preventDefault(),this.opts.autocomplete||this._results&&this._results.length>0?(this.trigger("key:enter"),this._selectedIndex>-1&&this._results&&(this.trigger("select",{result:Object(O.cloneDeep)(this._results[this._selectedIndex]),index:this._selectedIndex}),this.reset())):this._search(this.ui.input.val()));else if("keyup"===t.type)if("escape"===e||"esc"===e||27===t.keyCode)this.trigger("key:escape"),this.reset();else if(40===t.keyCode){var n=this._selectedIndex;this._results&&n<this._results.length-1?n+=1:-1===n&&(n=0),this._selectResultAtIndex(n)}else if(38===t.keyCode){var i=this._selectedIndex;i>0&&(i-=1),this._selectResultAtIndex(i)}}},{key:"value",get:function(){return this.ui.input.val()},set:function(t){this.ui.input.val(t),this.ui.input.trigger("input")}}]),n}(R);function Gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var Yt=function(t){o()(n,t);var e=Gt(n);function n(t){var i;return s()(this,n),(t=Object(O.extend)({field:{placeholder:"Search for place...",data:{request:function(t){return new Promise((function(e,n){i._prepareServiceForQuery(t),i._service.get().then((function(t){var n=t.data||{};if(n.responses){var i=[];n.responses.forEach((function(t){t.response&&(i=i.concat(t.response))})),n=i}e(n)})).catch((function(t){n(t)}))}))},formatter:function(t){if(!t)return null;if(!t.place)return null;var e=[Object(k.ucwords)(t.place.name)];"US"===t.place.country?e.push(t.place.state.toUpperCase()):e.push(Object(k.ucwords)(t.place.countryFull));var n=e.join(", ");return t.type&&"airport"===t.type&&(n+=" (Airport)"),n}}},icon:'\n\t\t\t\t<svg version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t<path d="m69.777 61.273 26.562 26.562c4.25 4.3672-4.1328 12.75-8.5 8.5l-26.562-26.562c-14.641 10.508-35.066 8.9727-47.934-3.8945-14.523-14.523-14.523-38.016\n\t\t\t\t\t\t0-52.539 14.523-14.523 38.016-14.523 52.539 0 12.867 12.867 14.402 33.293 3.8945 47.934zm-48.051-39.551c-9.8008 9.918-9.8008 25.855 0 35.656 9.918 9.918\n\t\t\t\t\t\t25.855 9.918 35.656 0 9.918-9.8008 9.918-25.738 0-35.656-9.8008-9.8008-25.738-9.8008-35.656 0z" fill-rule="evenodd"/>\n\t\t\t\t</svg>\n\t\t\t'},t)).className=t&&t.className?"app__ui-panel-search ".concat(t.className):"app__ui-panel-search",(i=e.call(this,t))._account=i.opts.account,i}return f()(n,[{key:"_onAddedToDOM",value:function(){j()(l()(n.prototype),"_onAddedToDOM",this).call(this),this._field||(this._field=new Ut(this.opts.field)),this._field.addTo(this.ui.content)}},{key:"_setupEvents",value:function(){var t=this;j()(l()(n.prototype),"_setupEvents",this).call(this),this._field.on("select",(function(e){t.trigger("select",e.data)})).on("change:value",(function(e){t.trigger("change:value",e.data)})).on("update:results",(function(e){t.trigger("update:results",e.data)}))}},{key:"_prepareServiceForQuery",value:function(t){this._service||(this._service=this._account.api());var e=this._service;if(e.removeAllRequests(),e.resetParams(),0!==(t=(t=(t=t.replace(/^\s+/,"").replace(/\s+$/,"")).replace(/,\s+/,",")).replace(/,$/,"")).length)if(/^(-?[\d\.]+),\s*(-?[\d\.]+)$/.test(t)){var n=this._account.api().endpoint("places").action("closest").place(t);e.addRequest(n)}else if(/^(\d\d\d\d\d(?:-\d\d\d\d)?|[ABCEGHJKLMNPRSTVXY]\d[A-Z] ?\d[A-Z]\d)$/i.test(t)){var i=this._account.api().endpoint("places").place(t);e.addRequest(i)}else{if(/^\w{4}$/.test(t)){var s=this._account.api().endpoint("places").place(t);e.addRequest(s)}var a=t.split(",");if(a.length>1){if(t="name:".concat(a[0],";altname:").concat(a[0]),3===a.length)t+=",state:".concat(a[1],",country:").concat(a[2]);else if(2===a.length&&a[1].length>0){var o=a[1],r=[],c=!1;if(o.length>1){var u=Object(k.states)(),l=Object(k.countries)(),h=Object(O.extend)({},u.us,u.ca),d=new RegExp("^".concat(o),"i");Object.keys(h).forEach((function(t){d.test(h[t])&&(r.push(t),c=!0)})),c||Object.keys(l).forEach((function(t){d.test(l[t])&&r.push(t)}))}t+=",state:^".concat(o,";country:^").concat(o),r.length>0&&r.forEach((function(e){t+=c?";state:^".concat(e):";country:^".concat(e)}))}}else t="name:^".concat(a[0],";altname:^").concat(a[0]);var p=this._account.api().endpoint("places").action("search").query(t).limit(20).sort("pop:-1,haszip:-1");e.addRequest(p)}else this._field.setResults([])}},{key:"field",get:function(){return this._field}}]),n}(P);function Xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var Zt,Jt=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]])}return n},Qt=function(t,e){return Object(O.extend)({},t,e)},te=function(t){o()(n,t);var e=Xt(n);function n(t){var i;return s()(this,n),(i=e.call(this))._moduleLegendCache={},i._app=t,i._modules={},i}return f()(n,[{key:"add",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Object(O.isset)(t))if(Object(O.has)(t,"id")&&Object(O.has)(t,"load"))this.addGroup(t,n);else if(Object(O.isFunction)(t))t().then((function(t){t=t.default||t,Object(O.isPlainObject)(t)||e.add(new t(i),n)})).catch((function(t){}));else{if(Object(O.isEmpty)(t.id))throw new Error("[Aeris] Map modules must provide a unique identifier using the `id` property.");if(!1===Object(O.has)(t,"initialize"))throw new Error("[Aeris] Cannot add invalid map module ".concat(t.id,". Modules must implement the IMapSourceModule interface and its required methods."));this._modules[t.id]=t,t.initialize(this._app.account,this._app),this._onAppReady((function(){var i=n||{},s=i.source,a=i.controls,o=i.legend,r=i.infopanel,c=Object(O.extend)({},t.source(),Object(O.isFunction)(s)?s():s),u=Object(O.extend)({},t.legend(),o),l=Object(O.extend)({},t.infopanel(),r),h=Qt(t.controls(),a);if(!Object(O.isset)(c)||Object(O.isEmpty)(c))throw new Error("[Aeris] Cannot add map module ".concat(t.id,", a valid map content source was not provided."));t.group||e._setupControls(t.id,h),e._setupLegends(t.id,u),e._setupInfoPanel(t.id,l);var d=e._setupSource(t.id,c);t.dataSource=d,e._setupModuleEvents(t),e.trigger("module:load",{id:t.id,module:t});var p=e._app.initialLayers(),f=e._app.panels.layers;f&&(null==p?void 0:p.length)>0&&(f.buttonForId(t.id)&&f.select(p))}))}else"[Aeris] Invalid module specified, received ".concat(t)}},{key:"insertAt",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.add(e,Object(O.extend)(n,{controls:{index:t}}),i)}},{key:"addGroup",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n=n||{},t.load().then((function(i){Object(O.has)(t,"initialize")&&t.initialize(e._app.account,e._app),e._onAppReady((function(){var i=t.controls();if(i){var s=n.controls,a=Qt(i,s);e._setupControls(t.id,a)}e._setupGroupEvents(t)}));var s=n.modules||{};i.forEach((function(n){n.group=t,e.add(n,s[n.id])}))})).catch((function(t){}))}},{key:"remove",value:function(t){var e=this._app.map,n=e.getSourceForId(t.id);n&&e.removeSource(n),delete this._modules[t.id],this.trigger("module:unload",{id:t.id,module:t})}},{key:"removeById",value:function(t){var e,n=this;Object.keys(this._modules).forEach((function(i){i===t&&(e=n._modules[i])})),e&&this.remove(e)}},{key:"_onAppReady",value:function(t){t&&(this._app.isReady()?t():this._app.on("ready",(function(){return t()})))}},{key:"_setupSource",value:function(t,e){if(e){var n=e.type,i=Jt(e,["type"]);return this._app.addSource(t,n,i)}throw new Error("[Aeris] Cannot add module ".concat(t,", source is invalid."))}},{key:"_setupControls",value:function(t,e){if(e){var n=this._app.panels.layers;if(n){var i=e.index,s=Object(O.extend)({},e,{id:t});Object(O.isset)(i)?(delete s.index,n.insertAt(i,s)):n.add(s)}}}},{key:"_setupLegends",value:function(t,e){var n=this;if(e){var i=this._app.panels.legends;if(i){var s=this._app.map,a=this._app.getPanel("layers"),o=function(t){i.legend.remove(n._moduleLegendCache[t]),delete n._moduleLegendCache[t]},r=function(s){var a=Object(O.isset)(e.get)&&Object(O.isFunction)(e.get)?e.get():e,r=a.title,c=a.url,u=a.code;u!==n._moduleLegendCache[s]&&(o(s),Object(O.isset)(u)?(i.legend.add(u,{account:n._app.account,within:{bounds:n._app.map.getBounds()},title:r}),n._moduleLegendCache[t]=u):Object(O.isset)(c)&&(i.legend.add(t,{type:"image",title:r,url:c}),n._moduleLegendCache[t]=t))};s.on("source:add",(function(e){var n=Object(O.get)(e.data,"id");t===n&&r(t)})).on("source:remove",(function(e){var n=Object(O.get)(e.data,"id");t===n&&o(t)})),a&&a.on("change",(function(e){var n=Object(O.get)(e.data,"id");t===n&&r(t)}))}}}},{key:"_setupInfoPanel",value:function(t,e){if(e){var n=e.sections,i=e.view,s=this._app.panels.info;s&&(n||i?(n&&Object.keys(n).forEach((function(t){return xt.setSection(t,n[t])})),i&&s.setContentView(t,i)):s.setContentView(t,e))}}},{key:"_setupModuleEvents",value:function(t){var e=this._app.map;Object(O.has)(t,"onAdd")&&e.on("source:add",(function(e){Object(O.get)(e.data,"id")===t.id&&t.onAdd()})),Object(O.has)(t,"onRemove")&&e.on("source:remove",(function(e){Object(O.get)(e.data,"id")===t.id&&t.onRemove()})),Object(O.has)(t,"onMarkerClick")&&e.on("marker:click",(function(e){var n=e.data.marker,i=e.data.data||{};i.awxjs_source===t.id&&t.onMarkerClick(n,i)})),Object(O.has)(t,"onShapeClick")&&e.on("shape:click",(function(e){var n=e.data.shape,i=e.data.data||{};i.awxjs_source===t.id&&t.onShapeClick(n,i)})),Object(O.has)(t,"onInit")&&t.onInit()}},{key:"_setupGroupEvents",value:function(t){var e=this._app.map,n=t.modules.map((function(t){return t.id})),i=t.controls();i&&i.buttons&&(i.buttons||[]).forEach((function(t){var e=t.id||t.value;-1===n.indexOf(e)&&n.push(e)})),Object(O.has)(t,"onMarkerClick")&&e.on("marker:click",(function(e){var i=e.data.marker,s=e.data.data||{},a=s.awxjs_source;n.indexOf(a)>=0&&t.onMarkerClick(i,s)})),Object(O.has)(t,"onShapeClick")&&e.on("shape:click",(function(e){var i=e.data.shape,s=e.data.data||{},a=s.awxjs_source;n.indexOf(a)>=0&&t.onShapeClick(i,s)})),Object(O.has)(t,"onInit")&&t.onInit()}}]),n}(g.a),ee=n("l1hk"),ne=n("gqGf"),ie=n("Hz+P");function se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}!function(t){t.Select="select",t.Deselect="deselect",t.Change="change"}(Zt||(Zt={}));var ae=function(t){o()(n,t);var e=se(n);function n(t,i){var a;return s()(this,n),(a=e.call(this)).storedSources={},a.sourceState={},a.respondToSourceEvents=!0,a.map=t,a.linkPanel(i),a.setupEvents(),a}return f()(n,[{key:"linkPanel",value:function(t){var e=this;this.panel!==t&&(this.panel&&this.panel.off("select",this.handleSelect).off("deselect",this.handleDeselect).off("change",this.handleOptionChange),this.panel=t,this.panel.on("select",this.handleSelect.bind(this)).on("deselect",this.handleDeselect.bind(this)).on("change",this.handleOptionChange.bind(this)).on("control:change",(function(t){var n=t.data||{},i=n.key,s=n.valueSegments,a=n.control,o=void 0===a?{}:a;if("opacity"===o.id){var r=e.findSource(i);if(s&&s.forEach((function(t){var n=e.findSource(t.key,t.value);n&&(r=n)})),r&&(r instanceof ne.c||r instanceof ne.d)){var c=o.value/100;r.setOpacity(c),e.setSourceState(i,{style:{opacity:c}})}}e.trigger("change:control",t.data)})))}},{key:"getSource",value:function(t){return this.sources[t]}},{key:"findSource",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=this.getSource(t);if(n||(n=this.map.getSourceForId(t)),n||(n=this.map.getSourceForLayer(t)),!n&&Object(O.isString)(e)&&(n=this.findSource(e)),!n&&!0===/\:\:/.test(t)){var i=Object(ie.c)(t||e);n=this.findSource(i)}return n}},{key:"addSource",value:function(t,e){this.sources[t]=e}},{key:"setSourceState",value:function(t,e){this.sourceState[t]=Object.assign(Object.assign({},this.sourceState[t]),e)}},{key:"handleSourceEvent",value:function(t,e){if(this.respondToSourceEvents)switch(t){case"add":this.panel.select(e,!0);break;case"remove":this.panel.deselect(e,!0)}}},{key:"handleSelect",value:function(t){this.handleAction(Zt.Select,t.data).changed&&this.trigger("select",Object.assign({},t.data))}},{key:"handleDeselect",value:function(t){this.handleAction(Zt.Deselect,t.data).changed&&this.trigger("deselect",Object.assign({},t.data))}},{key:"handleOptionChange",value:function(t){var e=t.data||{},n=e.id,i=e.value,s=e.reload,a=e.filter,o=void 0!==a&&a;if(i)if(!1===this.map.hasSource(n)&&i.filters)this.panel.trigger("select",t.data);else if(this.handleAction(Zt.Change,Object.assign({},t.data))){var r=function(t){var e={};return Object(O.isPlainObject)(t)?Object.keys(t).forEach((function(n){var i=t[n];e[n]=Object(O.isPlainObject)(i)?null==i?void 0:i.value:i})):Object(O.isArray)(t)&&t.length>0?e.filter=t.join(";"):Object(O.isString)(t)&&(e.filter=t),"all"===e.filter&&(e.filter=""),e}(i);if(r.bounds=this.map.getBounds(),this.trigger("change",Object.assign(Object.assign({},t.data),{params:r})),o){var c=this.findSource(n,i);c&&(Object(O.isset)(s)&&!0!==s?c.render():c.reload(r))}}}},{key:"handleAction",value:function(t,e){var n=e.id,i=(e.key,e.value),s=e.previous,a=(e.options,e.valueSegments),o=e.previousSegments,r=e.filter,c=void 0!==r&&r,u=["id","key","value","options"];if(!i)return{changed:!1,added:[],removed:[]};if(this.map.isReady()){var l=[],h=[];if(c||i.filters){if(t===Zt.Deselect?h.push(Object(O.pick)(e,u)):l.push(Object(O.pick)(e,u)),t===Zt.Change)return{changed:!0,added:l,removed:h}}else t===Zt.Select?a?l=l.concat(a.map((function(t){return Object(O.pick)(t,u)}))):l.push(Object(O.pick)(e,u)):t===Zt.Deselect&&(a?h=h.concat(a.map((function(t){return Object(O.pick)(t,u)}))):h.push(Object(O.pick)(e,u)));t===Zt.Change&&(a||o?(a&&(l=l.concat(a.map((function(t){return Object(O.pick)(t,u)})))),o&&(h=h.concat(o.map((function(t){return Object(O.pick)(t,u)}))))):(h.push(Object.assign(Object.assign({},Object(O.pick)(e,u)),{value:s})),l.push(Object(O.pick)(e,u)))),t===Zt.Select?h=[]:t===Zt.Deselect&&(l=[]);var d=l.map((function(t){return t.key})),p=h.reduce((function(t,e){return-1===d.indexOf(e.key)&&t.push(e),t}),[]);if(l.length>0||p.length>0){var f=l.map((function(t){return Object.assign(Object.assign({},t),{parentId:n})})),v=p.map((function(t){return Object.assign(Object.assign({},t),{parentId:n})}));return this.updateSources(f,v),{changed:!0,added:l,removed:p}}}return{changed:!1,added:[],removed:[]}}},{key:"updateSources",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[],s=[];this.respondToSourceEvents=!1,n.forEach((function(e){var n=e.id,i=(e.key,e.value),a=(e.options,t.findSource(n,i));a&&(t.map.removeSource(a),s.push(a))})),e.forEach((function(e){var n=e.id,s=(e.key,e.parentId),a=e.value,o=e.options,r=Object(O.extend)({},o,t.sourceState[n],t.sourceState[s]),c=Object(O.isArray)(a)?a.join(","):a,u=t.findSource(n,c);Object(mt.isMapsGLLayer)(n)||Object(mt.isMapsGLLayer)(c)||!0===(null==o?void 0:o.mapsgl)||(u?t.map.addSource(u,r):Object(O.isString)(c)&&(t.map.layerInfo.exists(c)||!1===r.validate)?(t.map.addLayer(c,Object.assign(Object.assign({},r),{id:n})),u=t.map.getSourceForLayer(n||c)):t.map.layerInfo.exists(n)&&(t.map.addLayer(n,Object.assign(Object.assign({},r),{id:n})),u=t.map.getSourceForLayer(n)),u?i.push(u):Object(m.b)(a)||"[Aeris] Cannot add map data source {".concat(n,"}, source not registered and/or not a valid Aeris Maps layer."))})),this.respondToSourceEvents=!0,this.trigger("source:change",{added:i,removed:s})}},{key:"setupEvents",value:function(){this.on("source:change",(function(t){}))}},{key:"sources",get:function(){return this.storedSources}}]),n}(g.a);function oe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}function re(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l()(t);if(e){var s=l()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c()(this,n)}}var ce,ue,le,he,de=function(t){o()(n,t);var e=re(n);function n(){return s()(this,n),e.apply(this,arguments)}return n}(function(t){o()(n,t);var e=oe(n);function n(t,i){var a;if(s()(this,n),(a=e.call(this))._ready=!1,a._layoutCache={},a._layout=Object(O.debounce)((function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||Object.keys(a._panels).forEach((function(t){var e=a._panels[t];if(e){var n=Object(O.get)(a._opts,"panels.".concat(t,".position"));n&&Object(O.isPlainObject)(n)&&("info"!==t&&e.layout(),n.pin?e.pinTo(n.pin,n.translate):Object(O.isset)(n.x)&&Object(O.isset)(n.y)&&e.moveTo(n))}}));var e=a.panels.layers,n=a.panels.timeline,i=a.panels.legends,s=a.$el.bounds(!0),o={top:0,left:0,right:s.right,bottom:s.height,width:s.width,height:s.height},r=Object.assign({},o);if(n){var c=n,u=c.size(),l=10,h=Object(O.get)(a._opts,"panels.timeline.position")||{},d=h.pin;if(Object(x.f)(d)){r=Object(x.c)(o,l);var p={};u.width>=r.width?p.left="".concat(l,"px"):p.left="".concat(Math.floor((s.width-u.width)/2),"px"),a._layoutCache.timeline=p}}if(e){var f=e,v=f.contentSize(),_=f.bounds(!0,a.$el),g=_.top;r=Object.assign({},o);var m=Object(O.get)(a._opts,"panels.layers.position")||{},y=m.pin,b=m.translate;Object(x.g)(y)&&(r.top=Math.max(0,Math.round((s.height-_.height)/2)),r.bottom=Math.min(s.height,r.top+r.height),g=b.y,g=Math.abs(b.y)),r=Object(x.a)(r,{width:_.width,height:_.height},y);var w=Object(x.c)(r,10);if(i){var j=Object(O.get)(a._opts,"panels.legends.position")||{},k=j.pin,S=i.bounds(!0,a.$el);Object(x.d)(w,S,!1)&&(Object(x.e)(k)?r.bottom=S.top:Object(x.h)(k)&&(r.top=S.bottom))}if(n){var M=Object(O.get)(a._opts,"panels.timeline.position")||{},R=M.pin,C=n.bounds(!0,a.$el);Object(x.d)(w,C,!1)&&(Object(x.e)(R)?r.bottom=C.top:Object(x.h)(R)&&(r.top=C.bottom))}r=Object(x.c)(r,g);var D=Math.max(r.bottom-r.top,0);0===D&&(D=o.bottom-o.top),D=Math.min(D,r.height)-e.toolbar.outerHeight();var E=Bt(),P={top:"".concat(r.top,"px"),height:"".concat(v.height,"px"),"max-height":"".concat(D,"px"),width:"".concat(v.width+E,"px")};f.setMaxContentSize({height:D,width:v.width+E}),f.content.css({"padding-right":"".concat(E,"px")}),a._layoutCache.layers=P}}),50),!t)throw new Error("[Aeris] Invalid DOM target specified for InteractiveMapApp");var o=Object(x.i)();if(i=Object(O.extend)(function(t){return{mode:"light",map:{},panels:{layers:{title:"Layers",enabled:!0,toggleable:"compact"===t.width,className:"app__ui-panel-layers",position:{pin:"topright",translate:{x:-10,y:10}}},timeline:{title:"Timeline",enabled:!0,position:{pin:"compact"===t.width?"bottomleft":"bottom",translate:{x:"compact"===t.width?10:0,y:-10}}},info:{enabled:!0,position:{pin:"topleft",translate:{x:10,y:10}},marker:{svg:{shape:{type:"circle",fill:{color:"#15a8e1"},stroke:{color:"#ffffff",width:2}}},size:[20,20]}},legends:{title:"Legends",enabled:!0,toggleable:!0,position:{pin:"bottomright",translate:{x:-10,y:-10}}},search:{title:"Location Search",enabled:!0,position:{pin:"top",translate:{y:10}}}}}}(o),{map:{account:i.account,servers:i.servers},panels:{search:{account:i.account}}},i),a._opts=i,a._account=i.account,!a.account)throw new Error("An InteractiveMapApp must be configured with a valid `account` value.");var r="awxjs__mode-".concat(a._opts.mode||"light");Object(S.a)(t).html('\n\t\t\t<div class="awxjs__app__component awxjs__app__fullscreen '.concat(r,'">\n\t\t\t\t<div class="awxjs__app__map"></div>\n\t\t\t</div>\n\t\t')),a._target=Object(S.a)(".awxjs__app__component",Object(S.a)(t)),a._panels={layers:null,info:null,timeline:null,legends:null,search:null},a._modules=new te(_()(a));var c=i.panels,u=c.layers,l=c.info,h=c.timeline,d=c.search,p=c.legends,f=Object(O.cloneDeep)(i.map);if(f&&u){var v=Object(O.get)(i,"map.layers");if(v){Object(O.isString)(v)&&(v=v.replace(/\s/g,"").split(","));var g=(u.buttons||[]).reduce((function(t,e){if(!1===Object(O.isset)(e.buttons)){var n=e.value||e.id,i=e.segments;i&&Object(O.isArray)(i)&&!e.filter?i.forEach((function(e){var n=e.value.replace(/\:.+$/,"");Object(O.replace)(t,n,e.value)})):(Object(O.replace)(t,e.value,n),Object(O.replace)(t,e.id,n))}return t}),Object(O.cloneDeep)(v));Object(O.set)(i,"map.layers",g),Object(O.set)(f,"layers",null)}}a._map=new m.a(Object(S.a)(".awxjs__app__map",a._target),f),u&&!1!==u.enabled&&a._setupLayersPanel(u),l&&!1!==l.enabled&&a._setupInfoPanel(l),h&&!1!==h.enabled&&a._setupTimeline(h),d&&!1!==d.enabled&&a._setupSearchPanel(d),p&&!1!==p.enabled&&a._setupLegendsPanel(p);var y=new ae(a.map,a.panels.layers);return y.on("select",(function(t){a.trigger("layer:select",Object.assign(Object.assign({},t.data),{source:a.getSource(t.data.key)}))})).on("deselect",(function(t){a.trigger("layer:deselect",Object.assign(Object.assign({},t.data),{source:a.getSource(t.data.key)}))})).on("change",(function(t){a.trigger("layer:change",Object.assign(Object.assign({},t.data),{source:a.getSource(t.data.key)}))})).on("change:control",(function(t){a.trigger("layer:change:control",Object.assign(Object.assign({},t.data),{source:a.getSource(t.data.key)}))})),a._sourceManager=y,a._map.on("change:units",(function(t){a.trigger("change:units",t.data)})),a._map.on("ready",(function(){a._ready=!0,a.trigger("ready")})),Object(S.a)(window).on("resize",(function(){a._layout()})),a._layout(),setTimeout((function(){return a._layout()}),200),a}return f()(n,[{key:"addSource",value:function(t,e,n){var i=this.map.createSource(t,e,n);if(!i)return"[Aeris] Unable to add data source to InteractiveMapApp for key {".concat(t,"}, type {").concat(e,"} is invalid.\n\t\t\t\tData sources must be of type 'tile', 'vector', 'geojson' or 'text'. See\n\t\t\t\thttps://www.aerisweather.com/support/docs/toolkits/aeris-js-sdk/map-modules/data-sources/ for more info."),null;i.strategy=this.map.strategy,this._sourceManager.addSource(t,i);var s=this.initialLayers();if(Object(O.isArray)(s)&&-1!==s.indexOf(t)){var a=this.panels.layers;a?a.select([t]):this.map.addSource(i,{id:t})}return i}},{key:"getSource",value:function(t){return this._sourceManager.findSource(t)}},{key:"showInfo",value:function(t,e,n){var i=this.panels.info;return i&&i.showContent(t,e,n),i}},{key:"showInfoAtCoord",value:function(t,e,n,i){var s=this.panels.info;if(!t)return s;i||(i=Object(O.get)(this._opts,"panels.info.marker"));var a=Object(ee.b)(t),o=a.lat,r=a.lon;return s&&Object(O.isset)(o)&&Object(O.isset)(r)&&(s.showContent(e,n).load({p:"".concat(o,",").concat(r)}),this._infoPanelMarker&&this.map.strategy.removeMarker(this._infoPanelMarker),i&&(this._infoPanelMarker=this.map.strategy.factory.marker("info",t,i),this._infoPanelMarker&&this.map.strategy.addMarker(this._infoPanelMarker))),s}},{key:"closeInfoPanel",value:function(){this.panels.info.close()}},{key:"getPanel",value:function(t){var e=this._panels[t];return e||null}},{key:"updatePanel",value:function(t,e){var n=this.getPanel(t);if(n&&(e=Object.assign(Object.assign({},n.opts),e),n.remove(!0),"layers"===t&&this.map.removeAllSources()),Object(O.set)(this._opts,"panels.".concat(t),e),!1!==e.enabled){switch(t){case"layers":this._setupLayersPanel(e);break;case"timeline":this._setupTimeline(e);break;case"legends":this._setupLegendsPanel(e);break;case"search":this._setupSearchPanel(e);break;case"info":this._setupInfoPanel(e)}this._layout()}}},{key:"setMetric",value:function(t){this.map.setMetric(t)}},{key:"setMode",value:function(t){this._opts.mode=t,this._target.removeClass("awxjs__mode-light awxjs__mode-dark"),this._target.addClass("awxjs__mode-".concat(this._opts.mode))}},{key:"isReady",value:function(){return this._ready}},{key:"initialLayers",value:function(){var t,e,n=(null===(e=null===(t=this._opts)||void 0===t?void 0:t.map)||void 0===e?void 0:e.layers)||[];return Object(O.isString)(n)?n.replace(/,\s+/,",").split(","):n}},{key:"_setupLayersPanel",value:function(t){var e=this,n=void 0===this._panels.layers||null===this._panels.layers;this._panels.layers&&this._panels.layers.offAll();var i=new _t(Object(O.extend)({},t,{id:"layers"}));i.addTo(this.$el),i.on("button:add button:remove change:size",(function(){var t=i.$el.css("top");0===t.length&&(t=i.$el.css("bottom")),t=parseInt(t.replace(/[^\d]/,""),10);var n=!1===Number.isNaN(t);e._layout(n)})).on("show hide",(function(){e._layout()})),this._panels.layers=i,this._sourceManager&&this._sourceManager.linkPanel(i);var s=function(t,e){if(t){var n=i.buttonForId(t);n&&n.setLoading(e)}};if(n){this.map.on("source:load:start",(function(t){s(t.data.layer,!0)})).on("source:load:done",(function(t){s(t.data.layer,!1)})).on("source:add",(function(t){e._sourceManager.handleSourceEvent("add",t.data.id)})).on("source:remove",(function(t){e._sourceManager.handleSourceEvent("remove",t.data.id)}));var a=Object(O.get)(this._opts,"map.layers");a&&(Object(O.isString)(a)&&(a=a.replace(/\s/g,"").split(",")),this.map.on("ready",(function(){i.select(a)})))}}},{key:"_setupInfoPanel",value:function(t){var e,n,i,s=this,a=new Ct(Object(O.extend)({},t,{id:"info",account:this.account}));a.addTo(this.$el),this._panels.info=a,a.on("close",(function(){s._infoPanelMarker&&(s.map.strategy.removeMarker(s._infoPanelMarker),s._infoPanelMarker=null)})).on("show hide",(function(){s._layout()})),this.on("change:units",(function(t){var e=t.data.metric||!1;a.setMetric(e)}));var o=(null===(i=null===(n=null===(e=this._opts.panels)||void 0===e?void 0:e.info)||void 0===n?void 0:n.views)||void 0===i?void 0:i.localweather)||{views:[{renderer:"place"},{renderer:"units"},{title:"Active Threats",renderer:"threats"},{title:"Active Alerts",renderer:"alerts"},{title:"Impacts",renderer:"hazards"},{title:"Observations",renderer:"obs"},{title:"Outlook",renderer:"outlook"},{title:"Short-Term Forecast",renderer:"forecast"}]};this.panels.info.setContentView("localweather",o)}},{key:"_setupTimeline",value:function(t){var e=this,n=Object(O.get)(t,"range.value"),i=Object(O.get)(this._opts,"map.timeline.from"),s=Object(O.get)(this._opts,"map.timeline.to");if(!n||Object(O.isset)(i)||Object(O.isset)(s))Object(O.set)(t,"range.value",[this.map.timeline.startOffset()/3600/1e3,this.map.timeline.endOffset()/3600/1e3]);else{var a=d()(n,2),o=a[0],r=a[1];Object(O.isNumber)(o)&&this.map.timeline.setStartOffset(3600*o*1e3),Object(O.isNumber)(r)&&this.map.timeline.setEndOffset(3600*r*1e3)}var c=new Lt(this.map.timeline,Object(O.extend)({},t,{id:"timeline"}));c.on("change:range",(function(){var t=e.map.timeline.currentTime;e.map.timeline.goToTime(t)})).on("show hide",(function(){e._layout()})),c.addTo(this.$el),this._panels.timeline=c}},{key:"_setupSearchPanel",value:function(t){var e=this,n=new Yt(Object(O.extend)({},t,{id:"search"}));n.addTo(this.$el),this._panels.search=n,n.on("select",(function(t){var n=Object(O.get)(t.data,"result.loc");if(n){var i={lat:n.lat,lon:n.long};e.map.setView(i,8),e.showInfoAtCoord(i,"localweather","Local Weather")}}))}},{key:"_setupLegendsPanel",value:function(t){var e=this,n=new Wt(Object(O.extend)({},t,{id:"legends",legend:{metric:this.map.isMetric}}));n.addTo(this.$el),this._panels.legends=n,this.map.on("layer:add",(function(t){if(Object(O.isset)(t.data)){var i=t.data,s=i.layer,a=i.id,o=s||a;if(o)o.toLowerCase().replace(/^[^\:]+\:\:/,"").replace(/\:[^,]+/g,"").replace(/__/,",").split(",").forEach((function(t){n.legend.add(t,{account:e.account,within:{bounds:e.map.getBounds()}})}))}})).on("layer:remove source:remove",(function(t){if(Object(O.isset)(t.data)){var e=t.data,i=e.layer,s=e.id,a=i||s;if(a)a.toLowerCase().replace(/^[^\:]+\:\:/,"").replace(/\:[^,]+/g,"").replace(/__/,",").split(",").forEach((function(t){n.legend.remove(t)}))}})).on("change:bounds",(function(t){var i={account:e.account};i.within={bounds:e.map.getBounds()},n.legend.update(i)})),this.on("change:units",(function(t){n.legend.setMetric(t.data.metric)}))}},{key:"account",get:function(){return this._account}},{key:"$el",get:function(){return this._target}},{key:"options",get:function(){return Object.assign({},this._opts)}},{key:"map",get:function(){return this._map}},{key:"panels",get:function(){return this._panels}},{key:"sources",get:function(){return this._sourceManager.sources}},{key:"modules",get:function(){return this._modules}}]),n}(g.a)),pe=function(t){o()(n,t);var e=re(n);function n(){return s()(this,n),e.apply(this,arguments)}return n}(_t),fe=function(t){o()(n,t);var e=re(n);function n(){return s()(this,n),e.apply(this,arguments)}return n}(Ct),ve=function(t){o()(n,t);var e=re(n);function n(){return s()(this,n),e.apply(this,arguments)}return n}(Lt),_e=function(t){o()(n,t);var e=re(n);function n(){return s()(this,n),e.apply(this,arguments)}return n}(Wt),ge=function(t){o()(n,t);var e=re(n);function n(){return s()(this,n),e.apply(this,arguments)}return n}(Yt);(he=le||(le={})).setAccount=function(t){ce=t},he.setServers=function(t){ue=t},he.InteractiveMapApp=function(t,e){return new de(t,Object.assign({},e,{account:ce,servers:e.servers||ue}))},he.panels={LayersPanel:function(t){return new pe(t)},InfoPanel:function(t){return new fe(t)},TimelinePanel:function(t,e){return new ve(t,e)},LegendPanel:function(t){return new _e(t)},PlaceSearchPanel:function(t){return new ge(t)}},he.ui={Tooltip:function(t,e){return new V(t,e)}}},hByQ:function(t,e,n){"use strict";var i=n("14Sl"),s=n("glrk"),a=n("HYAF"),o=n("Ep9I"),r=n("FMNM");i("search",1,(function(t,e,n){return[function(e){var n=a(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,t,this);if(i.done)return i.value;var a=s(t),c=String(this),u=a.lastIndex;o(u,0)||(a.lastIndex=0);var l=r(a,c);return o(a.lastIndex,u)||(a.lastIndex=u),null===l?-1:l.index}]}))},oU9G:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(0,s.default)(1,arguments);var e=(0,i.default)(t);return e.setHours(0,0,0,0),e};var i=a(n("2Oix")),s=a(n("YGjY"));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},qZya:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,a.default)(2,arguments);var n=(0,s.default)(t),o=(0,i.default)(e);if(isNaN(o))return new Date(NaN);if(!o)return n;return n.setDate(n.getDate()+o),n};var i=o(n("LP0B")),s=o(n("2Oix")),a=o(n("YGjY"));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},v3JS:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("ma9I"),n("+2oP"),n("07d7"),n("rB9j"),n("JfAA"),n("OM9Z"),n("UxlC"),n("EnZy");var i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",",s="",a=t.toString(),o=(a=a.replace(/^-/,"")).split("."),r=o[0],c=o[1];if(/e/.test(a))s=a;else for(var u=r.length;u>0;u-=3)u<r.length&&(s=i+s),s=r.slice(Math.max(0,u-3),u)+s;if(c){var l=e-c.length,h=l>0?"0".repeat(e-c.length):"";s+=n+"".concat(h).concat(c).substr(0,e)}return(t<0?"-":"")+s}}}]);